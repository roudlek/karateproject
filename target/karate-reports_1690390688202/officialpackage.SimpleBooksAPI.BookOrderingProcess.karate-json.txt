{"failedCount":0,"prefixedPath":"classpath:officialpackage\/SimpleBooksAPI\/BookOrderingProcess.feature","packageQualifiedName":"officialpackage.SimpleBooksAPI.BookOrderingProcess","loopIndex":-1,"relativePath":"officialpackage\/SimpleBooksAPI\/BookOrderingProcess.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1299445,"millis":1.299445,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"url 'https:\/\/simple-books-api.glitch.me'"},"stepLog":"17:44:24.845 karate.env system property was: null \n"},{"result":{"nanos":1428076869,"millis":1428.076869,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":1,"text":"def tokenCreationFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')"},"stepLog":"17:44:26.313 this thread waited 1410 milliseconds for callonce lock: read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')\n"},{"result":{"nanos":416194749,"millis":416.194749,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":2,"text":"def availableBooksFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')"},"stepLog":"17:44:26.729 this thread waited 412 milliseconds for callonce lock: read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')\n"},{"result":{"nanos":367139447,"millis":367.139447,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":3,"text":"def unavailableBooksFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')"},"stepLog":"17:44:27.097 this thread waited 364 milliseconds for callonce lock: read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')\n"},{"result":{"nanos":361697,"millis":0.361697,"status":"passed"},"step":{"line":11,"prefix":"Given","index":0,"text":"path '\/books'"}},{"result":{"nanos":463019902,"millis":463.019902,"status":"passed"},"step":{"line":12,"prefix":"When","index":1,"text":"method GET"},"stepLog":"17:44:27.099 request:\n1 > GET https:\/\/simple-books-api.glitch.me\/books\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n\n\n17:44:27.557 response time in milliseconds: 455\n1 < 200\n1 < Date: Mon, 24 Jul 2023 16:44:27 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 417\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"1a1-MfqhfTYtZO2sguD1mJq8Vf41WjU\"\n[{\"id\":1,\"name\":\"The Russian\",\"type\":\"fiction\",\"available\":true},{\"id\":2,\"name\":\"Just as I Am\",\"type\":\"non-fiction\",\"available\":false},{\"id\":3,\"name\":\"The Vanishing Half\",\"type\":\"fiction\",\"available\":true},{\"id\":4,\"name\":\"The Midnight Library\",\"type\":\"fiction\",\"available\":true},{\"id\":5,\"name\":\"Untamed\",\"type\":\"non-fiction\",\"available\":true},{\"id\":6,\"name\":\"Viscount Who Loved Me\",\"type\":\"fiction\",\"available\":true}]\n\n"},{"result":{"nanos":34412,"millis":0.034412,"status":"passed"},"step":{"line":13,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":3750205,"millis":3.750205,"status":"passed"},"step":{"comments":["#      * print karate.response"],"line":15,"prefix":"*","index":3,"text":"match karate.response.header('content-type') == 'application\/json; charset=utf-8'"}},{"result":{"nanos":8853324,"millis":8.853324,"status":"passed"},"step":{"comments":["#      * match each response contains {type: '#notnull'}"],"line":17,"prefix":"*","index":4,"text":"match each $ contains { type: \"#notnull\"}"}},{"result":{"nanos":279847,"millis":0.279847,"status":"passed"},"step":{"line":18,"prefix":"*","index":5,"text":"def validTypes = ['fiction', 'non-fiction']"}},{"result":{"nanos":19823224,"millis":19.823224,"status":"passed"},"step":{"line":19,"prefix":"*","index":6,"text":"match each response contains { type: '#? validTypes.includes(_)' }"}}],"executorName":"pool-1-thread-1","line":10,"name":"verify that 'type' filter works correctly on the list of books endpoint (check the case 'fiction' and 'non-fiction')","description":"","durationMillis":2708.833121,"startTime":1690217064667,"failed":false,"refId":"[1:10]","endTime":1690217067594,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":1296755,"millis":1.296755,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"url 'https:\/\/simple-books-api.glitch.me'"},"stepLog":"17:44:24.868 karate.env system property was: null \n"},{"result":{"nanos":1428053605,"millis":1428.053605,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":1,"text":"def tokenCreationFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')"},"stepLog":"17:44:26.312 this thread waited 1407 milliseconds for callonce lock: read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')\n"},{"result":{"nanos":415796483,"millis":415.796483,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":2,"text":"def availableBooksFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')"},"stepLog":"17:44:26.729 this thread waited 412 milliseconds for callonce lock: read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')\n"},{"result":{"nanos":367696866,"millis":367.696866,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":3,"text":"def unavailableBooksFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')"},"stepLog":"17:44:27.097 this thread waited 364 milliseconds for callonce lock: read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')\n"},{"result":{"nanos":296979,"millis":0.296979,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"path '\/orders'"}},{"result":{"nanos":760950,"millis":0.76095,"status":"passed"},"step":{"comments":["# Call the scenario that generates the access token and store the response in a variable"],"line":24,"prefix":"*","index":1,"text":"def generatedAccessToken = tokenCreationFeature.response.accessToken"}},{"result":{"nanos":642127,"millis":0.642127,"status":"passed"},"step":{"comments":["# Extract the access token from the response and store it in a variable"],"line":26,"prefix":"*","index":2,"text":"header Authorization = 'Bearer ' + generatedAccessToken"}},{"result":{"nanos":884579,"millis":0.884579,"status":"passed"},"step":{"line":27,"prefix":"*","index":3,"text":"def customerName = tokenCreationFeature.APIClientData.clientName"}},{"result":{"nanos":1052336,"millis":1.052336,"status":"passed"},"step":{"line":28,"prefix":"*","index":4,"text":"def firstAvailableBookID = availableBooksFeature.bookToOrder.id"}},{"result":{"nanos":1223210,"millis":1.22321,"status":"passed"},"step":{"line":29,"prefix":"*","index":5,"text":"print firstAvailableBookID"},"stepLog":"17:44:27.102 [print] 1 \n"},{"result":{"nanos":1111217,"millis":1.111217,"status":"passed"},"step":{"line":30,"prefix":"*","index":6,"text":"request { \"bookId\": '#(firstAvailableBookID)', \"customerName\": '#(customerName)' }"}},{"result":{"nanos":660790577,"millis":660.790577,"status":"passed"},"step":{"line":31,"prefix":"When","index":7,"text":"method POST"},"stepLog":"17:44:27.105 request:\n1 > POST https:\/\/simple-books-api.glitch.me\/orders\n1 > Authorization: Bearer 19429ab009b3eba0c4d0c925b732abe03d95a812ffcdbfe9af29c85b86b723b4\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 47\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"bookId\":1,\"customerName\":\"tzppdgfrsjwuayzvo\"}\n\n17:44:27.762 response time in milliseconds: 654\n1 < 201\n1 < Date: Mon, 24 Jul 2023 16:44:27 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 50\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"32-VTpDanKQEGnOXKedanmZNUaZjz0\"\n{\"created\":true,\"orderId\":\"_tne0GyuFloIjHI9agJe7\"}\n\n"},{"result":{"nanos":44530,"millis":0.04453,"status":"passed"},"step":{"line":32,"prefix":"*","index":8,"text":"status 201"}},{"result":{"nanos":3527024,"millis":3.527024,"status":"passed"},"step":{"line":33,"prefix":"*","index":9,"text":"match $ == '#notnull'"}},{"result":{"nanos":1040140,"millis":1.04014,"status":"passed"},"step":{"line":34,"prefix":"*","index":10,"text":"match $ contains {orderId: '#notnull'}"}},{"result":{"nanos":954728,"millis":0.954728,"status":"passed"},"step":{"line":35,"prefix":"*","index":11,"text":"match $ contains {orderId: '#string'}"}}],"executorName":"pool-1-thread-2","line":21,"name":"verify the successful creation of an order with an available book (book in stock)","description":"","durationMillis":2885.172106,"startTime":1690217064667,"failed":false,"refId":"[2:21]","endTime":1690217067771,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":1294916,"millis":1.294916,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"url 'https:\/\/simple-books-api.glitch.me'"},"stepLog":"17:44:24.871 karate.env system property was: null \n"},{"result":{"nanos":1427588785,"millis":1427.588785,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":1,"text":"def tokenCreationFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')"},"stepLog":"17:44:26.312 << lock released, cached callonce: read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature","packageQualifiedName":"officialpackage.SimpleBooksAPI.tokenCreationFeature","loopIndex":-1,"relativePath":"officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":43729976,"millis":43.729976,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def APIClientData = read('classpath:officialpackage\/SimpleBooksAPI\/APIClientData.json')"},"stepLog":"17:44:24.904 >> lock acquired, begin callonce: read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')\n"},{"result":{"nanos":546399,"millis":0.546399,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"url 'https:\/\/simple-books-api.glitch.me'"}},{"result":{"nanos":29503638,"millis":29.503638,"status":"passed"},"step":{"endLine":35,"comments":["# JavaScript function to generate a random email address"],"line":11,"prefix":"*","docString":"function generateFullEmail(){\n    function generateTLD() {\n      let result = '';\n      for (let i = 0; i < 63; i++) {\n        const randomIndex = Math.floor(Math.random() * characters.length);\n        result += characters.charAt(randomIndex);\n      }\n      return result;\n    }\n    const characters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n    const tld = generateTLD().slice(0, Math.floor(Math.random() * 62) + 2);\n    function generateRandomClientEmail() {\n      const generateTLD = () => Math.random().toString(36).substring(2);\n      const username = generateTLD().slice(0, Math.floor(Math.random() * 64) + 1);\n      const domain = generateTLD().slice(0, Math.floor(Math.random() * 253) + 2);\n      return `${username}@${domain}.${tld}`;\n    }\n  return generateRandomClientEmail();\n }","index":0,"text":"def generateRandomClientEmail ="}},{"result":{"nanos":2786334,"millis":2.786334,"status":"passed"},"step":{"endLine":50,"line":36,"prefix":"*","docString":"function generateRandomClientName() {\n  const length = Math.floor(Math.random() * 18) + 3;\n  const characters = 'abcdefghijklmnopqrstuvwxyz';\n  let name = '';\n  for (let i = 0; i < length; i++) {\n    const randomIndex = Math.floor(Math.random() * characters.length);\n    name += characters[randomIndex];\n  }\n  return name;\n}","index":1,"text":"def generateRandomClientName ="}},{"result":{"nanos":457563,"millis":0.457563,"status":"passed"},"step":{"line":51,"prefix":"Given","index":2,"text":"path '\/api-clients\/'"}},{"result":{"nanos":32081835,"millis":32.081835,"status":"passed"},"step":{"comments":["# We set the generated prefix of our json file of clientEmail to the returned value of the js function"],"line":53,"prefix":"*","index":3,"text":"set APIClientData.clientEmail = generateRandomClientEmail()"}},{"result":{"nanos":4007046,"millis":4.007046,"status":"passed"},"step":{"line":54,"prefix":"*","index":4,"text":"set APIClientData.clientName = generateRandomClientName()"}},{"result":{"nanos":11657544,"millis":11.657544,"status":"passed"},"step":{"line":55,"prefix":"*","index":5,"text":"match APIClientData contains { clientName: '#notnull' }"}},{"result":{"nanos":873483,"millis":0.873483,"status":"passed"},"step":{"line":56,"prefix":"*","index":6,"text":"match APIClientData contains { clientEmail: '#regex ^[a-zA-Z0-9._%+-]{1,64}@[a-zA-Z0-9.-]{1,255}\\.[a-zA-Z]{2,63}$'} # Validate email format"}},{"result":{"nanos":310690,"millis":0.31069,"status":"passed"},"step":{"line":57,"prefix":"*","index":7,"text":"request APIClientData"}},{"result":{"nanos":1257615928,"millis":1257.615928,"status":"passed"},"step":{"line":58,"prefix":"When","index":8,"text":"method POST"},"stepLog":"17:44:25.312 request:\n1 > POST https:\/\/simple-books-api.glitch.me\/api-clients\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 95\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"clientName\":\"tzppdgfrsjwuayzvo\",\"clientEmail\":\"0tphy06brkcd@jl5es300ahs.AJJNGhRrcAMmRLDGrpX\"}\n\n17:44:26.298 response time in milliseconds: 976\n1 < 201\n1 < Date: Mon, 24 Jul 2023 16:44:26 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 82\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"52-FnmBkV6OjclUAS6Na+OXBbQx3Yc\"\n{\"accessToken\":\"19429ab009b3eba0c4d0c925b732abe03d95a812ffcdbfe9af29c85b86b723b4\"}\n\n"},{"result":{"nanos":40651,"millis":0.040651,"status":"passed"},"step":{"line":59,"prefix":"Then","index":9,"text":"status 201"}},{"result":{"nanos":2164765,"millis":2.164765,"status":"passed"},"step":{"line":60,"prefix":"*","index":10,"text":"match $ == '#notnull'"}},{"result":{"nanos":1170941,"millis":1.170941,"status":"passed"},"step":{"line":61,"prefix":"*","index":11,"text":"match $.accessToken == '#notnull'"}},{"result":{"nanos":1124225,"millis":1.124225,"status":"passed"},"step":{"line":62,"prefix":"*","index":12,"text":"match $.accessToken == '#string'"}},{"result":{"nanos":640590,"millis":0.64059,"status":"passed"},"step":{"comments":["# Validate access token format (64 characters hexadecimal)"],"line":65,"prefix":"*","index":13,"text":"match $ == { accessToken: '#regex ^[0-9a-f]{64}$'}"}},{"result":{"nanos":614987,"millis":0.614987,"status":"passed"},"step":{"line":66,"prefix":"*","index":14,"text":"def generatedAccessToken = $.accessToken"}}],"line":9,"description":"","durationMillis":1389.326595,"failed":false,"tags":["createToken"],"executorName":"pool-1-thread-3","name":"verify the creation of token after an authentication","startTime":1690217064918,"refId":"[1:9]","endTime":1690217066310,"exampleIndex":-1}],"callDepth":1,"name":"Token creation feature","description":"","resultDate":"2023-07-24 05:44:27 PM","durationMillis":1389.326595,"passedCount":1}]},{"result":{"nanos":415987497,"millis":415.987497,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":2,"text":"def availableBooksFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')"},"stepLog":"17:44:26.729 << lock released, cached callonce: read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature","packageQualifiedName":"officialpackage.SimpleBooksAPI.avaiableBooks","loopIndex":-1,"relativePath":"officialpackage\/SimpleBooksAPI\/avaiableBooks.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":459843,"millis":0.459843,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"url 'https:\/\/simple-books-api.glitch.me'"},"stepLog":"17:44:26.316 >> lock acquired, begin callonce: read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')\n"},{"result":{"nanos":304823,"millis":0.304823,"status":"passed"},"step":{"line":5,"prefix":"Given","index":0,"text":"path '\/books'"}},{"result":{"nanos":373135974,"millis":373.135974,"status":"passed"},"step":{"line":6,"prefix":"When","index":1,"text":"method GET"},"stepLog":"17:44:26.325 request:\n1 > GET https:\/\/simple-books-api.glitch.me\/books\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n\n\n17:44:26.691 response time in milliseconds: 364\n1 < 200\n1 < Date: Mon, 24 Jul 2023 16:44:26 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 417\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"1a1-MfqhfTYtZO2sguD1mJq8Vf41WjU\"\n[{\"id\":1,\"name\":\"The Russian\",\"type\":\"fiction\",\"available\":true},{\"id\":2,\"name\":\"Just as I Am\",\"type\":\"non-fiction\",\"available\":false},{\"id\":3,\"name\":\"The Vanishing Half\",\"type\":\"fiction\",\"available\":true},{\"id\":4,\"name\":\"The Midnight Library\",\"type\":\"fiction\",\"available\":true},{\"id\":5,\"name\":\"Untamed\",\"type\":\"non-fiction\",\"available\":true},{\"id\":6,\"name\":\"Viscount Who Loved Me\",\"type\":\"fiction\",\"available\":true}]\n\n"},{"result":{"nanos":31076,"millis":0.031076,"status":"passed"},"step":{"line":7,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":13403433,"millis":13.403433,"status":"passed"},"step":{"line":8,"prefix":"*","index":3,"text":"match karate.response.header('content-type') == 'application\/json; charset=utf-8'"}},{"result":{"nanos":10612062,"millis":10.612062,"status":"passed"},"step":{"line":9,"prefix":"*","index":4,"text":"def availableBooks = karate.filter(response, function(x){ return x.available == true })"}},{"result":{"nanos":3165429,"millis":3.165429,"status":"passed"},"step":{"line":10,"prefix":"*","index":5,"text":"match availableBooks != null"}},{"result":{"nanos":2110906,"millis":2.110906,"status":"passed"},"step":{"line":11,"prefix":"*","index":6,"text":"def bookToOrder = availableBooks[0]"}},{"result":{"nanos":520689,"millis":0.520689,"status":"passed"},"step":{"line":12,"prefix":"*","index":7,"text":"match $ == '#notnull'"}}],"executorName":"pool-1-thread-3","line":4,"name":"get only available books","description":"","durationMillis":403.744235,"startTime":1690217066323,"failed":false,"refId":"[1:4]","endTime":1690217066728,"exampleIndex":-1}],"callDepth":1,"name":"","description":"","resultDate":"2023-07-24 05:44:27 PM","durationMillis":403.744235,"passedCount":1}]},{"result":{"nanos":367604279,"millis":367.604279,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":3,"text":"def unavailableBooksFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')"},"stepLog":"17:44:27.097 << lock released, cached callonce: read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature","packageQualifiedName":"officialpackage.SimpleBooksAPI.unavaiableBooks","loopIndex":-1,"relativePath":"officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":183165,"millis":0.183165,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"url 'https:\/\/simple-books-api.glitch.me'"},"stepLog":"17:44:26.733 >> lock acquired, begin callonce: read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')\n"},{"result":{"nanos":89316,"millis":0.089316,"status":"passed"},"step":{"line":5,"prefix":"Given","index":0,"text":"path '\/books'"}},{"result":{"nanos":352563496,"millis":352.563496,"status":"passed"},"step":{"line":6,"prefix":"When","index":1,"text":"method GET"},"stepLog":"17:44:26.741 request:\n1 > GET https:\/\/simple-books-api.glitch.me\/books\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n\n\n17:44:27.091 response time in milliseconds: 349\n1 < 200\n1 < Date: Mon, 24 Jul 2023 16:44:27 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 417\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"1a1-MfqhfTYtZO2sguD1mJq8Vf41WjU\"\n[{\"id\":1,\"name\":\"The Russian\",\"type\":\"fiction\",\"available\":true},{\"id\":2,\"name\":\"Just as I Am\",\"type\":\"non-fiction\",\"available\":false},{\"id\":3,\"name\":\"The Vanishing Half\",\"type\":\"fiction\",\"available\":true},{\"id\":4,\"name\":\"The Midnight Library\",\"type\":\"fiction\",\"available\":true},{\"id\":5,\"name\":\"Untamed\",\"type\":\"non-fiction\",\"available\":true},{\"id\":6,\"name\":\"Viscount Who Loved Me\",\"type\":\"fiction\",\"available\":true}]\n\n"},{"result":{"nanos":11708,"millis":0.011708,"status":"passed"},"step":{"line":7,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":939355,"millis":0.939355,"status":"passed"},"step":{"line":8,"prefix":"*","index":3,"text":"match karate.response.header('content-type') == 'application\/json; charset=utf-8'"}},{"result":{"nanos":1870620,"millis":1.87062,"status":"passed"},"step":{"line":9,"prefix":"*","index":4,"text":"def availableBooks = karate.filter(response, function(x){ return x.available == false })"}},{"result":{"nanos":313460,"millis":0.31346,"status":"passed"},"step":{"line":10,"prefix":"*","index":5,"text":"match availableBooks != null"}},{"result":{"nanos":257907,"millis":0.257907,"status":"passed"},"step":{"line":11,"prefix":"*","index":6,"text":"def bookToOrder = availableBooks[0]"}},{"result":{"nanos":320217,"millis":0.320217,"status":"passed"},"step":{"line":12,"prefix":"*","index":7,"text":"match $ == '#notnull'"}}],"executorName":"pool-1-thread-3","line":4,"name":"get only available books","description":"","durationMillis":356.549244,"startTime":1690217066739,"failed":false,"refId":"[1:4]","endTime":1690217067096,"exampleIndex":-1}],"callDepth":1,"name":"","description":"","resultDate":"2023-07-24 05:44:27 PM","durationMillis":356.549244,"passedCount":1}]},{"result":{"nanos":349785,"millis":0.349785,"status":"passed"},"step":{"line":38,"prefix":"Given","index":0,"text":"path '\/orders'"}},{"result":{"nanos":631130,"millis":0.63113,"status":"passed"},"step":{"comments":["# Call the scenario that generates the access token and store the response in a variable"],"line":40,"prefix":"*","index":1,"text":"def generatedAccessToken = tokenCreationFeature.response.accessToken"}},{"result":{"nanos":494951,"millis":0.494951,"status":"passed"},"step":{"comments":["# Extract the access token from the response and store it in a variable"],"line":42,"prefix":"*","index":2,"text":"header Authorization = 'Bearer ' + generatedAccessToken"}},{"result":{"nanos":852241,"millis":0.852241,"status":"passed"},"step":{"line":43,"prefix":"*","index":3,"text":"def customerName = tokenCreationFeature.APIClientData.clientName"}},{"result":{"nanos":1029319,"millis":1.029319,"status":"passed"},"step":{"line":44,"prefix":"*","index":4,"text":"def firstUnavailableBookID = unavailableBooksFeature.bookToOrder.id"}},{"result":{"nanos":1109752,"millis":1.109752,"status":"passed"},"step":{"line":45,"prefix":"*","index":5,"text":"request { \"bookId\": '#(firstUnavailableBookID)', \"customerName\": '#(customerName)' }"}},{"result":{"nanos":436579166,"millis":436.579166,"status":"passed"},"step":{"line":46,"prefix":"When","index":6,"text":"method POST"},"stepLog":"17:44:27.102 request:\n1 > POST https:\/\/simple-books-api.glitch.me\/orders\n1 > Authorization: Bearer 19429ab009b3eba0c4d0c925b732abe03d95a812ffcdbfe9af29c85b86b723b4\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 47\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"bookId\":2,\"customerName\":\"tzppdgfrsjwuayzvo\"}\n\n17:44:27.533 response time in milliseconds: 428\n1 < 404\n1 < Date: Mon, 24 Jul 2023 16:44:27 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 55\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"37-EwJEhBGIU3KiOH3ypr8c6yRFaMQ\"\n{\"error\":\"This book is not in stock. Try again later.\"}\n\n"},{"result":{"nanos":32891,"millis":0.032891,"status":"passed"},"step":{"line":47,"prefix":"*","index":7,"text":"status 404"}},{"result":{"nanos":1892332,"millis":1.892332,"status":"passed"},"step":{"line":48,"prefix":"*","index":8,"text":"match $ == '#notnull'"}},{"result":{"nanos":1639382,"millis":1.639382,"status":"passed"},"step":{"line":49,"prefix":"*","index":9,"text":"match $ contains {error: '#notnull'}"}},{"result":{"nanos":2617450,"millis":2.61745,"status":"passed"},"step":{"line":50,"prefix":"*","index":10,"text":"match $ !contains {orderId: '#notnull'}"}}],"executorName":"pool-1-thread-3","line":37,"name":"verify the unsuccessful creation of order when the book is out of stock","description":"","durationMillis":2659.703876,"startTime":1690217064667,"failed":false,"refId":"[3:37]","endTime":1690217067546,"exampleIndex":-1}],"callDepth":0,"name":"Book ordering process","description":"","resultDate":"2023-07-24 05:44:27 PM","durationMillis":8253.709103,"passedCount":3}