{"failedCount":0,"prefixedPath":"src\/test\/java\/officialpackage\/SimpleBooksAPI\/books.feature","packageQualifiedName":"src.test.java.officialpackage.SimpleBooksAPI.books","loopIndex":-1,"relativePath":"src\/test\/java\/officialpackage\/SimpleBooksAPI\/books.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":38562987,"millis":38.562987,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def APIClientData = read('classpath:officialpackage\/SimpleBooksAPI\/APIClientData.json')"},"stepLog":"18:53:49.508 karate.env system property was: null \n"},{"result":{"nanos":859683,"millis":0.859683,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"url 'https:\/\/simple-books-api.glitch.me'"}},{"result":{"nanos":29920681,"millis":29.920681,"status":"passed"},"step":{"endLine":33,"comments":["# JavaScript function to generate a random email address"],"line":9,"prefix":"*","docString":"function generateFullEmail(){\n    function generateTLD() {\n      let result = '';\n      for (let i = 0; i < 63; i++) {\n        const randomIndex = Math.floor(Math.random() * characters.length);\n        result += characters.charAt(randomIndex);\n      }\n      return result;\n    }\n    const characters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n    const tld = generateTLD().slice(0, Math.floor(Math.random() * 62) + 2);\n    function generateRandomClientEmail() {\n      const generateTLD = () => Math.random().toString(36).substring(2);\n      const username = generateTLD().slice(0, Math.floor(Math.random() * 64) + 1);\n      const domain = generateTLD().slice(0, Math.floor(Math.random() * 253) + 2);\n      return `${username}@${domain}.${tld}`;\n    }\n  return generateRandomClientEmail();\n }","index":0,"text":"def generateRandomClientEmail ="}},{"result":{"nanos":3162347,"millis":3.162347,"status":"passed"},"step":{"endLine":48,"line":34,"prefix":"*","docString":"function generateRandomClientName() {\n  const length = Math.floor(Math.random() * 18) + 3;\n  const characters = 'abcdefghijklmnopqrstuvwxyz';\n  let name = '';\n  for (let i = 0; i < length; i++) {\n    const randomIndex = Math.floor(Math.random() * characters.length);\n    name += characters[randomIndex];\n  }\n  return name;\n}","index":1,"text":"def generateRandomClientName ="}},{"result":{"nanos":527232,"millis":0.527232,"status":"passed"},"step":{"line":49,"prefix":"Given","index":2,"text":"path '\/api-clients\/'"}},{"result":{"nanos":31122497,"millis":31.122497,"status":"passed"},"step":{"comments":["# We set the generated prefix of our json file of clientEmail to the returned value of the js function"],"line":51,"prefix":"*","index":3,"text":"set APIClientData.clientEmail = generateRandomClientEmail()"}},{"result":{"nanos":3127804,"millis":3.127804,"status":"passed"},"step":{"line":52,"prefix":"*","index":4,"text":"set APIClientData.clientName = generateRandomClientName()"}},{"result":{"nanos":10097484,"millis":10.097484,"status":"passed"},"step":{"line":53,"prefix":"*","index":5,"text":"match APIClientData contains { clientName: '#notnull' }"}},{"result":{"nanos":829180,"millis":0.82918,"status":"passed"},"step":{"line":54,"prefix":"*","index":6,"text":"match APIClientData contains { clientEmail: '#regex ^[a-zA-Z0-9._%+-]{1,64}@[a-zA-Z0-9.-]{1,255}\\.[a-zA-Z]{2,63}$'} # Validate email format"}},{"result":{"nanos":214396,"millis":0.214396,"status":"passed"},"step":{"line":55,"prefix":"*","index":7,"text":"request APIClientData"}},{"result":{"nanos":959990684,"millis":959.990684,"status":"passed"},"step":{"line":56,"prefix":"When","index":8,"text":"method POST"},"stepLog":"18:53:49.888 request:\n1 > POST https:\/\/simple-books-api.glitch.me\/api-clients\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 72\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"clientName\":\"unjecddxp\",\"clientEmail\":\"rcdl014x@hfy0ykyh77j.GlDGLgid\"}\n\n18:53:50.616 response time in milliseconds: 718\n1 < 201\n1 < Date: Fri, 21 Jul 2023 17:53:50 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 82\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"52-FGVyZRzU5gMCz9W5XPcJeMsUxAY\"\n{\"accessToken\":\"4b5af77a42b71e34a3764e05520fd4586da3faaccc664831ca784fefdb333f17\"}\n\n"},{"result":{"nanos":50336,"millis":0.050336,"status":"passed"},"step":{"line":57,"prefix":"Then","index":9,"text":"status 201"}},{"result":{"nanos":1707598,"millis":1.707598,"status":"passed"},"step":{"line":58,"prefix":"*","index":10,"text":"match $ == '#notnull'"}},{"result":{"nanos":1071616,"millis":1.071616,"status":"passed"},"step":{"line":59,"prefix":"*","index":11,"text":"match $.accessToken == '#notnull'"}},{"result":{"nanos":1265960,"millis":1.26596,"status":"passed"},"step":{"line":60,"prefix":"*","index":12,"text":"match $.accessToken == '#string'"}},{"result":{"nanos":542513,"millis":0.542513,"status":"passed"},"step":{"comments":["# Validate access token format (64 characters hexadecimal)"],"line":63,"prefix":"*","index":13,"text":"match $ == { accessToken: '#regex ^[0-9a-f]{64}$'}"}}],"executorName":"main","line":7,"name":"verify the creation of token after an authentication","description":"","durationMillis":1083.052998,"startTime":1689962029398,"failed":false,"refId":"[1:7]","endTime":1689962030626,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":1459649,"millis":1.459649,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def APIClientData = read('classpath:officialpackage\/SimpleBooksAPI\/APIClientData.json')"},"stepLog":"18:53:50.638 karate.env system property was: null \n"},{"result":{"nanos":462668,"millis":0.462668,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"url 'https:\/\/simple-books-api.glitch.me'"}},{"result":{"nanos":287954,"millis":0.287954,"status":"passed"},"step":{"line":66,"prefix":"Given","index":0,"text":"path '\/books'"}},{"result":{"nanos":378044480,"millis":378.04448,"status":"passed"},"step":{"line":67,"prefix":"When","index":1,"text":"method GET"},"stepLog":"18:53:50.643 request:\n1 > GET https:\/\/simple-books-api.glitch.me\/books\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n\n\n18:53:51.016 response time in milliseconds: 370\n1 < 200\n1 < Date: Fri, 21 Jul 2023 17:53:50 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 417\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"1a1-MfqhfTYtZO2sguD1mJq8Vf41WjU\"\n[{\"id\":1,\"name\":\"The Russian\",\"type\":\"fiction\",\"available\":true},{\"id\":2,\"name\":\"Just as I Am\",\"type\":\"non-fiction\",\"available\":false},{\"id\":3,\"name\":\"The Vanishing Half\",\"type\":\"fiction\",\"available\":true},{\"id\":4,\"name\":\"The Midnight Library\",\"type\":\"fiction\",\"available\":true},{\"id\":5,\"name\":\"Untamed\",\"type\":\"non-fiction\",\"available\":true},{\"id\":6,\"name\":\"Viscount Who Loved Me\",\"type\":\"fiction\",\"available\":true}]\n\n"},{"result":{"nanos":28199,"millis":0.028199,"status":"passed"},"step":{"line":68,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":48996166,"millis":48.996166,"status":"passed"},"step":{"line":69,"prefix":"*","index":3,"text":"print karate.response"},"stepLog":"18:53:51.069 [print] {\n  \"status\": 200,\n  \"header\": \"com.intuit.karate.http.Response$$Lambda$242\/0x0000000801085aa8@de7e193\",\n  \"headers\": {\n    \"Date\": \"Fri, 21 Jul 2023 17:53:50 GMT\",\n    \"Content-Type\": \"application\/json; charset=utf-8\",\n    \"Content-Length\": \"417\",\n    \"Connection\": \"keep-alive\",\n    \"x-powered-by\": \"Express\",\n    \"etag\": \"W\/\\\"1a1-MfqhfTYtZO2sguD1mJq8Vf41WjU\\\"\"\n  },\n  \"headerValues\": \"com.intuit.karate.http.Response$$Lambda$246\/0x0000000801094998@427a12b6\",\n  \"body\": [\n    {\n      \"id\": 1,\n      \"name\": \"The Russian\",\n      \"type\": \"fiction\",\n      \"available\": true\n    },\n    {\n      \"id\": 2,\n      \"name\": \"Just as I Am\",\n      \"type\": \"non-fiction\",\n      \"available\": false\n    },\n    {\n      \"id\": 3,\n      \"name\": \"The Vanishing Half\",\n      \"type\": \"fiction\",\n      \"available\": true\n    },\n    {\n      \"id\": 4,\n      \"name\": \"The Midnight Library\",\n      \"type\": \"fiction\",\n      \"available\": true\n    },\n    {\n      \"id\": 5,\n      \"name\": \"Untamed\",\n      \"type\": \"non-fiction\",\n      \"available\": true\n    },\n    {\n      \"id\": 6,\n      \"name\": \"Viscount Who Loved Me\",\n      \"type\": \"fiction\",\n      \"available\": true\n    }\n  ],\n  \"dataType\": \"json\",\n  \"bodyBytes\": \"[B@71cea1b8\",\n  \"responseTime\": 370\n}\n \n"},{"result":{"nanos":3041452,"millis":3.041452,"status":"passed"},"step":{"line":70,"prefix":"*","index":4,"text":"match karate.response.header('content-type') == 'application\/json; charset=utf-8'"}},{"result":{"nanos":2706256,"millis":2.706256,"status":"passed"},"step":{"line":71,"prefix":"*","index":5,"text":"match each response contains {type: '#notnull'}"}},{"result":{"nanos":1174090,"millis":1.17409,"status":"passed"},"step":{"line":72,"prefix":"*","index":6,"text":"match each $ contains { type: \"#notnull\"}"}},{"result":{"nanos":209463,"millis":0.209463,"status":"passed"},"step":{"line":73,"prefix":"*","index":7,"text":"def types = ['fiction', 'non-fiction']"}},{"result":{"nanos":18079738,"millis":18.079738,"status":"passed"},"step":{"line":74,"prefix":"*","index":8,"text":"match each response contains { type: '#? types.includes(_)' }"}}],"executorName":"main","line":65,"name":"verify that 'type' filter works correctly  on the list of books endpoint (check the case 'fiction' and 'non-fiction')","description":"","durationMillis":454.490115,"startTime":1689962030636,"failed":false,"refId":"[2:65]","endTime":1689962031095,"exampleIndex":-1}],"callDepth":0,"name":"books API operations","description":"","resultDate":"2023-07-21 06:53:51 PM","durationMillis":1537.543113,"passedCount":2}