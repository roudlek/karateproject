{"failedCount":0,"prefixedPath":"src\/test\/java\/officialpackage\/SimpleBooksAPI\/books.feature","packageQualifiedName":"src.test.java.officialpackage.SimpleBooksAPI.books","loopIndex":-1,"relativePath":"src\/test\/java\/officialpackage\/SimpleBooksAPI\/books.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":30278572,"millis":30.278572,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def APIClientData = read('classpath:officialpackage\/SimpleBooksAPI\/APIClientData.json')"},"stepLog":"18:58:16.996 karate.env system property was: null \n"},{"result":{"nanos":540152,"millis":0.540152,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"url 'https:\/\/simple-books-api.glitch.me'"}},{"result":{"nanos":17686712,"millis":17.686712,"status":"passed"},"step":{"endLine":33,"comments":["# JavaScript function to generate a random email address"],"line":9,"prefix":"*","docString":"function generateFullEmail(){\n    function generateTLD() {\n      let result = '';\n      for (let i = 0; i < 63; i++) {\n        const randomIndex = Math.floor(Math.random() * characters.length);\n        result += characters.charAt(randomIndex);\n      }\n      return result;\n    }\n    const characters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n    const tld = generateTLD().slice(0, Math.floor(Math.random() * 62) + 2);\n    function generateRandomClientEmail() {\n      const generateTLD = () => Math.random().toString(36).substring(2);\n      const username = generateTLD().slice(0, Math.floor(Math.random() * 64) + 1);\n      const domain = generateTLD().slice(0, Math.floor(Math.random() * 253) + 2);\n      return `${username}@${domain}.${tld}`;\n    }\n  return generateRandomClientEmail();\n }","index":0,"text":"def generateRandomClientEmail ="}},{"result":{"nanos":1906836,"millis":1.906836,"status":"passed"},"step":{"endLine":48,"line":34,"prefix":"*","docString":"function generateRandomClientName() {\n  const length = Math.floor(Math.random() * 18) + 3;\n  const characters = 'abcdefghijklmnopqrstuvwxyz';\n  let name = '';\n  for (let i = 0; i < length; i++) {\n    const randomIndex = Math.floor(Math.random() * characters.length);\n    name += characters[randomIndex];\n  }\n  return name;\n}","index":1,"text":"def generateRandomClientName ="}},{"result":{"nanos":301394,"millis":0.301394,"status":"passed"},"step":{"line":49,"prefix":"Given","index":2,"text":"path '\/api-clients\/'"}},{"result":{"nanos":20873412,"millis":20.873412,"status":"passed"},"step":{"comments":["# We set the generated prefix of our json file of clientEmail to the returned value of the js function"],"line":51,"prefix":"*","index":3,"text":"set APIClientData.clientEmail = generateRandomClientEmail()"}},{"result":{"nanos":2550055,"millis":2.550055,"status":"passed"},"step":{"line":52,"prefix":"*","index":4,"text":"set APIClientData.clientName = generateRandomClientName()"}},{"result":{"nanos":9155776,"millis":9.155776,"status":"passed"},"step":{"line":53,"prefix":"*","index":5,"text":"match APIClientData contains { clientName: '#notnull' }"}},{"result":{"nanos":638943,"millis":0.638943,"status":"passed"},"step":{"line":54,"prefix":"*","index":6,"text":"match APIClientData contains { clientEmail: '#regex ^[a-zA-Z0-9._%+-]{1,64}@[a-zA-Z0-9.-]{1,255}\\.[a-zA-Z]{2,63}$'} # Validate email format"}},{"result":{"nanos":190320,"millis":0.19032,"status":"passed"},"step":{"line":55,"prefix":"*","index":7,"text":"request APIClientData"}},{"result":{"nanos":1130224953,"millis":1130.224953,"status":"passed"},"step":{"line":56,"prefix":"When","index":8,"text":"method POST"},"stepLog":"18:58:17.318 request:\n1 > POST https:\/\/simple-books-api.glitch.me\/api-clients\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 114\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"clientName\":\"hahpvxmvepqctqalgv\",\"clientEmail\":\"onoht8xjac@yzsumfq83fa.JsGNgTRCGerFfnuCsvkUFIZJfeHJyXdCyNySsKE\"}\n\n18:58:18.234 response time in milliseconds: 912\n1 < 201\n1 < Date: Fri, 21 Jul 2023 17:58:18 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 82\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"52-GhzW\/XQFGYENiXxtiXYI8PfFLpY\"\n{\"accessToken\":\"4273de87be35ed0d66ae476df76b5aa0ef55a4ee45069b45089b4f21ac171d06\"}\n\n"},{"result":{"nanos":20349,"millis":0.020349,"status":"passed"},"step":{"line":57,"prefix":"Then","index":9,"text":"status 201"}},{"result":{"nanos":912188,"millis":0.912188,"status":"passed"},"step":{"line":58,"prefix":"*","index":10,"text":"match $ == '#notnull'"}},{"result":{"nanos":610678,"millis":0.610678,"status":"passed"},"step":{"line":59,"prefix":"*","index":11,"text":"match $.accessToken == '#notnull'"}},{"result":{"nanos":698581,"millis":0.698581,"status":"passed"},"step":{"line":60,"prefix":"*","index":12,"text":"match $.accessToken == '#string'"}},{"result":{"nanos":370690,"millis":0.37069,"status":"passed"},"step":{"comments":["# Validate access token format (64 characters hexadecimal)"],"line":63,"prefix":"*","index":13,"text":"match $ == { accessToken: '#regex ^[0-9a-f]{64}$'}"}}],"executorName":"main","line":7,"name":"verify the creation of token after an authentication","description":"","durationMillis":1216.959611,"startTime":1689962296900,"failed":false,"refId":"[1:7]","endTime":1689962298238,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":1437134,"millis":1.437134,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def APIClientData = read('classpath:officialpackage\/SimpleBooksAPI\/APIClientData.json')"},"stepLog":"18:58:18.247 karate.env system property was: null \n"},{"result":{"nanos":425929,"millis":0.425929,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"url 'https:\/\/simple-books-api.glitch.me'"}},{"result":{"nanos":294177,"millis":0.294177,"status":"passed"},"step":{"line":66,"prefix":"Given","index":0,"text":"path '\/books'"}},{"result":{"nanos":374234196,"millis":374.234196,"status":"passed"},"step":{"line":67,"prefix":"When","index":1,"text":"method GET"},"stepLog":"18:58:18.252 request:\n1 > GET https:\/\/simple-books-api.glitch.me\/books\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n\n\n18:58:18.620 response time in milliseconds: 365\n1 < 200\n1 < Date: Fri, 21 Jul 2023 17:58:18 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 417\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"1a1-MfqhfTYtZO2sguD1mJq8Vf41WjU\"\n[{\"id\":1,\"name\":\"The Russian\",\"type\":\"fiction\",\"available\":true},{\"id\":2,\"name\":\"Just as I Am\",\"type\":\"non-fiction\",\"available\":false},{\"id\":3,\"name\":\"The Vanishing Half\",\"type\":\"fiction\",\"available\":true},{\"id\":4,\"name\":\"The Midnight Library\",\"type\":\"fiction\",\"available\":true},{\"id\":5,\"name\":\"Untamed\",\"type\":\"non-fiction\",\"available\":true},{\"id\":6,\"name\":\"Viscount Who Loved Me\",\"type\":\"fiction\",\"available\":true}]\n\n"},{"result":{"nanos":41792,"millis":0.041792,"status":"passed"},"step":{"line":68,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":47762642,"millis":47.762642,"status":"passed"},"step":{"line":69,"prefix":"*","index":3,"text":"print karate.response"},"stepLog":"18:58:18.673 [print] {\n  \"status\": 200,\n  \"header\": \"com.intuit.karate.http.Response$$Lambda$242\/0x00000008010c5478@13e5d243\",\n  \"headers\": {\n    \"Date\": \"Fri, 21 Jul 2023 17:58:18 GMT\",\n    \"Content-Type\": \"application\/json; charset=utf-8\",\n    \"Content-Length\": \"417\",\n    \"Connection\": \"keep-alive\",\n    \"x-powered-by\": \"Express\",\n    \"etag\": \"W\/\\\"1a1-MfqhfTYtZO2sguD1mJq8Vf41WjU\\\"\"\n  },\n  \"headerValues\": \"com.intuit.karate.http.Response$$Lambda$246\/0x00000008010ced98@6025d790\",\n  \"body\": [\n    {\n      \"id\": 1,\n      \"name\": \"The Russian\",\n      \"type\": \"fiction\",\n      \"available\": true\n    },\n    {\n      \"id\": 2,\n      \"name\": \"Just as I Am\",\n      \"type\": \"non-fiction\",\n      \"available\": false\n    },\n    {\n      \"id\": 3,\n      \"name\": \"The Vanishing Half\",\n      \"type\": \"fiction\",\n      \"available\": true\n    },\n    {\n      \"id\": 4,\n      \"name\": \"The Midnight Library\",\n      \"type\": \"fiction\",\n      \"available\": true\n    },\n    {\n      \"id\": 5,\n      \"name\": \"Untamed\",\n      \"type\": \"non-fiction\",\n      \"available\": true\n    },\n    {\n      \"id\": 6,\n      \"name\": \"Viscount Who Loved Me\",\n      \"type\": \"fiction\",\n      \"available\": true\n    }\n  ],\n  \"dataType\": \"json\",\n  \"bodyBytes\": \"[B@659f226a\",\n  \"responseTime\": 365\n}\n \n"},{"result":{"nanos":3033517,"millis":3.033517,"status":"passed"},"step":{"line":70,"prefix":"*","index":4,"text":"match karate.response.header('content-type') == 'application\/json; charset=utf-8'"}},{"result":{"nanos":3083680,"millis":3.08368,"status":"passed"},"step":{"line":71,"prefix":"*","index":5,"text":"match each response contains {type: '#notnull'}"}},{"result":{"nanos":1858847,"millis":1.858847,"status":"passed"},"step":{"line":72,"prefix":"*","index":6,"text":"match each $ contains { type: \"#notnull\"}"}},{"result":{"nanos":310983,"millis":0.310983,"status":"passed"},"step":{"line":73,"prefix":"*","index":7,"text":"def types = ['fiction', 'non-fiction']"}},{"result":{"nanos":16197975,"millis":16.197975,"status":"passed"},"step":{"line":74,"prefix":"*","index":8,"text":"match each response contains { type: '#? types.includes(_)' }"}}],"executorName":"main","line":65,"name":"verify that 'type' filter works correctly  on the list of books endpoint (check the case 'fiction' and 'non-fiction')","description":"","durationMillis":448.680872,"startTime":1689962298245,"failed":false,"refId":"[2:65]","endTime":1689962298699,"exampleIndex":-1}],"callDepth":0,"name":"books API operations","description":"","resultDate":"2023-07-21 06:58:18 PM","durationMillis":1665.640483,"passedCount":2}