{"failedCount":0,"prefixedPath":"src\/test\/java\/officialpackage\/SimpleBooksAPI\/books.feature","packageQualifiedName":"src.test.java.officialpackage.SimpleBooksAPI.books","loopIndex":-1,"relativePath":"src\/test\/java\/officialpackage\/SimpleBooksAPI\/books.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":31402933,"millis":31.402933,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"def APIClientData = read('classpath:officialpackage\/SimpleBooksAPI\/APIClientData.json')"},"stepLog":"18:16:11.908 karate.env system property was: null \n"},{"result":{"nanos":714665,"millis":0.714665,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":1,"text":"url 'https:\/\/simple-books-api.glitch.me'"}},{"result":{"nanos":5356468,"millis":5.356468,"status":"passed"},"step":{"endLine":13,"comments":["# JavaScript function to generate a random email address"],"line":8,"prefix":"*","docString":"function() {\n  return Math.random().toString(36).substring(2, 11) + '@example.com';\n}","index":0,"text":"def generateRandomEmail ="}},{"result":{"nanos":326162,"millis":0.326162,"status":"passed"},"step":{"line":14,"prefix":"Given","index":1,"text":"path '\/api-clients\/'"}},{"result":{"nanos":10974652,"millis":10.974652,"status":"passed"},"step":{"comments":["# We set the generated prefix of our json file of clientEmail to the returned value of the js function"],"line":16,"prefix":"*","index":2,"text":"set APIClientData.clientEmail = generateRandomEmail()"}},{"result":{"nanos":9203041,"millis":9.203041,"status":"passed"},"step":{"line":17,"prefix":"*","index":3,"text":"match APIClientData contains { clientEmail: '#regex ^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,}$'} # Validate email format"}},{"result":{"nanos":403301,"millis":0.403301,"status":"passed"},"step":{"line":18,"prefix":"*","index":4,"text":"match APIClientData contains { clientName: '#notnull' }"}},{"result":{"nanos":137251,"millis":0.137251,"status":"passed"},"step":{"line":19,"prefix":"*","index":5,"text":"request APIClientData"}},{"result":{"nanos":1151787925,"millis":1151.787925,"status":"passed"},"step":{"line":20,"prefix":"When","index":6,"text":"method POST"},"stepLog":"18:16:12.191 request:\n1 > POST https:\/\/simple-books-api.glitch.me\/api-clients\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 62\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"clientName\":\"Postman\",\"clientEmail\":\"b9kt4v9qn@example.com\"}\n\n18:16:13.145 response time in milliseconds: 942\n1 < 201\n1 < Date: Thu, 20 Jul 2023 17:16:13 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 82\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"52-zAXv3eIMEzocUCvDEHF9cKgjJS8\"\n{\"accessToken\":\"5f0508d77be33e0185dae0f52b1a999a08c3cd43f8b284752c4b58116a177543\"}\n\n"},{"result":{"nanos":43126,"millis":0.043126,"status":"passed"},"step":{"line":21,"prefix":"Then","index":7,"text":"status 201"}},{"result":{"nanos":1867969,"millis":1.867969,"status":"passed"},"step":{"line":22,"prefix":"*","index":8,"text":"match $ == '#notnull'"}},{"result":{"nanos":1089206,"millis":1.089206,"status":"passed"},"step":{"line":23,"prefix":"*","index":9,"text":"match $.accessToken == '#notnull'"}},{"result":{"nanos":2130044,"millis":2.130044,"status":"passed"},"step":{"line":24,"prefix":"*","index":10,"text":"match $.accessToken == '#string'"}},{"result":{"nanos":854426,"millis":0.854426,"status":"passed"},"step":{"comments":["# Validate access token format (64 characters hexadecimal)"],"line":26,"prefix":"*","index":11,"text":"match $ == { accessToken: '#regex ^[0-9a-f]{64}$'}"}},{"result":{"nanos":41088019,"millis":41.088019,"status":"passed"},"step":{"comments":["#    * match karate.request.clientName == '#ignore'","#    karate.request has a lot pf parameters"],"line":29,"prefix":"*","index":12,"text":"print karate.request"},"stepLog":"18:16:13.197 [print] {\n  \"path\": \"\/api-clients\",\n  \"method\": \"POST\",\n  \"param\": \"com.intuit.karate.http.Request$$Lambda$240\/0x00000008010c2200@64e1377c\",\n  \"paramInt\": \"com.intuit.karate.http.Request$$Lambda$241\/0x00000008010d0ec0@2c63762b\",\n  \"paramBool\": \"com.intuit.karate.http.Request$$Lambda$242\/0x00000008010d1108@7a9eccc4\",\n  \"paramJson\": \"com.intuit.karate.http.Request$$Lambda$243\/0x00000008010d1350@78422efb\",\n  \"paramExists\": \"com.intuit.karate.http.Request$$Lambda$244\/0x00000008010d1598@5f05c8d6\",\n  \"params\": {\n  },\n  \"header\": \"com.intuit.karate.http.Request$$Lambda$245\/0x00000008010d1a28@68e02f33\",\n  \"headers\": {\n    \"Content-Type\": \"application\/json; charset=UTF-8\",\n    \"Content-Length\": \"62\",\n    \"Host\": \"simple-books-api.glitch.me\",\n    \"Connection\": \"Keep-Alive\",\n    \"User-Agent\": \"Apache-HttpClient\/4.5.14 (Java\/17.0.6)\",\n    \"Accept-Encoding\": \"gzip,deflate\"\n  },\n  \"headerValues\": \"com.intuit.karate.http.Request$$Lambda$247\/0x00000008010d1ea8@d48e998\",\n  \"pathParam\": null,\n  \"pathParams\": {\n  },\n  \"pathMatches\": \"com.intuit.karate.http.Request$$Lambda$248\/0x00000008010d20f0@7cfac39f\",\n  \"pathPattern\": null,\n  \"body\": {\n    \"clientName\": \"Postman\",\n    \"clientEmail\": \"b9kt4v9qn@example.com\"\n  },\n  \"bodyString\": \"{\\\"clientName\\\":\\\"Postman\\\",\\\"clientEmail\\\":\\\"b9kt4v9qn@example.com\\\"}\",\n  \"bodyBytes\": \"[B@3f6bf8aa\",\n  \"multiPart\": \"com.intuit.karate.http.Request$$Lambda$249\/0x00000008010d2338@50eb4a2c\",\n  \"multiParts\": null,\n  \"get\": false,\n  \"post\": true,\n  \"put\": false,\n  \"delete\": false,\n  \"patch\": false,\n  \"head\": false,\n  \"connect\": false,\n  \"options\": false,\n  \"trace\": false,\n  \"urlBase\": \"https:\/\/simple-books-api.glitch.me\",\n  \"url\": \"https:\/\/simple-books-api.glitch.me\/api-clients\",\n  \"pathRaw\": \"\/api-clients\",\n  \"startTime\": 1689873372191,\n  \"endTime\": 1689873373133\n}\n \n"},{"result":{"nanos":6163503,"millis":6.163503,"status":"passed"},"step":{"line":30,"prefix":"*","index":13,"text":"print karate.response"},"stepLog":"18:16:13.204 [print] {\n  \"status\": 201,\n  \"header\": \"com.intuit.karate.http.Response$$Lambda$238\/0x00000008010c7890@1984212d\",\n  \"headers\": {\n    \"Date\": \"Thu, 20 Jul 2023 17:16:13 GMT\",\n    \"Content-Type\": \"application\/json; charset=utf-8\",\n    \"Content-Length\": \"82\",\n    \"Connection\": \"keep-alive\",\n    \"x-powered-by\": \"Express\",\n    \"etag\": \"W\/\\\"52-zAXv3eIMEzocUCvDEHF9cKgjJS8\\\"\"\n  },\n  \"headerValues\": \"com.intuit.karate.http.Response$$Lambda$250\/0x00000008010d2d00@27a09971\",\n  \"body\": {\n    \"accessToken\": \"5f0508d77be33e0185dae0f52b1a999a08c3cd43f8b284752c4b58116a177543\"\n  },\n  \"dataType\": \"json\",\n  \"bodyBytes\": \"[B@2ead6ba4\",\n  \"responseTime\": 942\n}\n \n"},{"result":{"nanos":2495213,"millis":2.495213,"status":"passed"},"step":{"line":31,"prefix":"*","index":14,"text":"match karate.request.post == true"}},{"result":{"nanos":1107151,"millis":1.107151,"status":"passed"},"step":{"line":32,"prefix":"*","index":15,"text":"match karate.response.dataType == 'json'"}},{"result":{"nanos":441241,"millis":0.441241,"status":"passed"},"step":{"line":33,"prefix":"*","index":16,"text":"match $ !contains { error: \"API client already registered. Try a different email.\"}"}}],"executorName":"main","line":6,"name":"verify the creation of token after an authentication","description":"","durationMillis":1267.586296,"startTime":1689873371801,"failed":false,"refId":"[1:6]","endTime":1689873373208,"exampleIndex":-1}],"callDepth":0,"name":"books API operations","description":"","resultDate":"2023-07-20 06:16:13 PM","durationMillis":1267.586296,"passedCount":1}