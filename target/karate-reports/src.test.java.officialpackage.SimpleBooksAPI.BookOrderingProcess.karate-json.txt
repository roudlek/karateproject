{"failedCount":0,"prefixedPath":"src\/test\/java\/officialpackage\/SimpleBooksAPI\/BookOrderingProcess.feature","packageQualifiedName":"src.test.java.officialpackage.SimpleBooksAPI.BookOrderingProcess","loopIndex":-1,"relativePath":"src\/test\/java\/officialpackage\/SimpleBooksAPI\/BookOrderingProcess.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":970455,"millis":0.970455,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"url 'https:\/\/simple-books-api.glitch.me'"},"stepLog":"17:30:46.742 karate.env system property was: null \n"},{"result":{"nanos":1335706497,"millis":1335.706497,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":1,"text":"def tokenCreationFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')"},"stepLog":"17:30:48.104 << lock released, cached callonce: read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature","packageQualifiedName":"officialpackage.SimpleBooksAPI.tokenCreationFeature","loopIndex":-1,"relativePath":"officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":32433398,"millis":32.433398,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def APIClientData = read('classpath:officialpackage\/SimpleBooksAPI\/APIClientData.json')"},"stepLog":"17:30:46.781 >> lock acquired, begin callonce: read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')\n"},{"result":{"nanos":254989,"millis":0.254989,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"url 'https:\/\/simple-books-api.glitch.me'"}},{"result":{"nanos":23943662,"millis":23.943662,"status":"passed"},"step":{"endLine":35,"comments":["# JavaScript function to generate a random email address"],"line":11,"prefix":"*","docString":"function generateFullEmail(){\n    function generateTLD() {\n      let result = '';\n      for (let i = 0; i < 63; i++) {\n        const randomIndex = Math.floor(Math.random() * characters.length);\n        result += characters.charAt(randomIndex);\n      }\n      return result;\n    }\n    const characters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n    const tld = generateTLD().slice(0, Math.floor(Math.random() * 62) + 2);\n    function generateRandomClientEmail() {\n      const generateTLD = () => Math.random().toString(36).substring(2);\n      const username = generateTLD().slice(0, Math.floor(Math.random() * 64) + 1);\n      const domain = generateTLD().slice(0, Math.floor(Math.random() * 253) + 2);\n      return `${username}@${domain}.${tld}`;\n    }\n  return generateRandomClientEmail();\n }","index":0,"text":"def generateRandomClientEmail ="}},{"result":{"nanos":3237311,"millis":3.237311,"status":"passed"},"step":{"endLine":50,"line":36,"prefix":"*","docString":"function generateRandomClientName() {\n  const length = Math.floor(Math.random() * 18) + 3;\n  const characters = 'abcdefghijklmnopqrstuvwxyz';\n  let name = '';\n  for (let i = 0; i < length; i++) {\n    const randomIndex = Math.floor(Math.random() * characters.length);\n    name += characters[randomIndex];\n  }\n  return name;\n}","index":1,"text":"def generateRandomClientName ="}},{"result":{"nanos":514182,"millis":0.514182,"status":"passed"},"step":{"line":51,"prefix":"Given","index":2,"text":"path '\/api-clients\/'"}},{"result":{"nanos":30573737,"millis":30.573737,"status":"passed"},"step":{"comments":["# We set the generated prefix of our json file of clientEmail to the returned value of the js function"],"line":53,"prefix":"*","index":3,"text":"set APIClientData.clientEmail = generateRandomClientEmail()"}},{"result":{"nanos":2639429,"millis":2.639429,"status":"passed"},"step":{"line":54,"prefix":"*","index":4,"text":"set APIClientData.clientName = generateRandomClientName()"}},{"result":{"nanos":11622141,"millis":11.622141,"status":"passed"},"step":{"line":55,"prefix":"*","index":5,"text":"match APIClientData contains { clientName: '#notnull' }"}},{"result":{"nanos":788271,"millis":0.788271,"status":"passed"},"step":{"line":56,"prefix":"*","index":6,"text":"match APIClientData contains { clientEmail: '#regex ^[a-zA-Z0-9._%+-]{1,64}@[a-zA-Z0-9.-]{1,255}\\.[a-zA-Z]{2,63}$'} # Validate email format"}},{"result":{"nanos":122272,"millis":0.122272,"status":"passed"},"step":{"line":57,"prefix":"*","index":7,"text":"request APIClientData"}},{"result":{"nanos":1202287355,"millis":1202.287355,"status":"passed"},"step":{"line":58,"prefix":"When","index":8,"text":"method POST"},"stepLog":"17:30:47.165 request:\n1 > POST https:\/\/simple-books-api.glitch.me\/api-clients\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 101\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"clientName\":\"lfczv\",\"clientEmail\":\"z8hsxjmsxh@hcg8rzdfes6.GZVzmJKBCeJKFeJlApFAqBVGtqvgLOEtXeBstTx\"}\n\n17:30:48.095 response time in milliseconds: 921\n1 < 201\n1 < Date: Thu, 27 Jul 2023 16:30:48 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 82\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"52-SNG+IBT5vbbtwPwLteuYADAd8sg\"\n{\"accessToken\":\"c492a0d10435bf9c0e398cdfc34ddde918315bbb1f20e6d648f5dff5f8d1501a\"}\n\n"},{"result":{"nanos":39700,"millis":0.0397,"status":"passed"},"step":{"line":59,"prefix":"Then","index":9,"text":"status 201"}},{"result":{"nanos":1223270,"millis":1.22327,"status":"passed"},"step":{"line":60,"prefix":"*","index":10,"text":"match $ == '#notnull'"}},{"result":{"nanos":654107,"millis":0.654107,"status":"passed"},"step":{"line":61,"prefix":"*","index":11,"text":"match $.accessToken == '#notnull'"}},{"result":{"nanos":829553,"millis":0.829553,"status":"passed"},"step":{"line":62,"prefix":"*","index":12,"text":"match $.accessToken == '#string'"}},{"result":{"nanos":447463,"millis":0.447463,"status":"passed"},"step":{"comments":["# Validate access token format (64 characters hexadecimal)"],"line":65,"prefix":"*","index":13,"text":"match $ == { accessToken: '#regex ^[0-9a-f]{64}$'}"}},{"result":{"nanos":345128,"millis":0.345128,"status":"passed"},"step":{"line":66,"prefix":"*","index":14,"text":"def generatedAccessToken = $.accessToken"}}],"line":9,"description":"","durationMillis":1311.955968,"failed":false,"tags":["createToken"],"executorName":"main","name":"verify the creation of token after an authentication","startTime":1690475446787,"refId":"[1:9]","endTime":1690475448102,"exampleIndex":-1}],"callDepth":1,"name":"Token creation feature","description":"","resultDate":"2023-07-27 05:30:49 PM","durationMillis":1311.955968,"passedCount":1}]},{"result":{"nanos":516057149,"millis":516.057149,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":2,"text":"def availableBooksFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')"},"stepLog":"17:30:48.621 << lock released, cached callonce: read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature","packageQualifiedName":"officialpackage.SimpleBooksAPI.avaiableBooks","loopIndex":-1,"relativePath":"officialpackage\/SimpleBooksAPI\/avaiableBooks.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":452895,"millis":0.452895,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"url 'https:\/\/simple-books-api.glitch.me'"},"stepLog":"17:30:48.108 >> lock acquired, begin callonce: read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')\n"},{"result":{"nanos":256043,"millis":0.256043,"status":"passed"},"step":{"line":5,"prefix":"Given","index":0,"text":"path '\/books'"}},{"result":{"nanos":479325920,"millis":479.32592,"status":"passed"},"step":{"line":6,"prefix":"When","index":1,"text":"method GET"},"stepLog":"17:30:48.115 request:\n1 > GET https:\/\/simple-books-api.glitch.me\/books\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n\n\n17:30:48.588 response time in milliseconds: 471\n1 < 200\n1 < Date: Thu, 27 Jul 2023 16:30:48 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 417\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"1a1-MfqhfTYtZO2sguD1mJq8Vf41WjU\"\n[{\"id\":1,\"name\":\"The Russian\",\"type\":\"fiction\",\"available\":true},{\"id\":2,\"name\":\"Just as I Am\",\"type\":\"non-fiction\",\"available\":false},{\"id\":3,\"name\":\"The Vanishing Half\",\"type\":\"fiction\",\"available\":true},{\"id\":4,\"name\":\"The Midnight Library\",\"type\":\"fiction\",\"available\":true},{\"id\":5,\"name\":\"Untamed\",\"type\":\"non-fiction\",\"available\":true},{\"id\":6,\"name\":\"Viscount Who Loved Me\",\"type\":\"fiction\",\"available\":true}]\n\n"},{"result":{"nanos":29746,"millis":0.029746,"status":"passed"},"step":{"line":7,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":10259340,"millis":10.25934,"status":"passed"},"step":{"line":8,"prefix":"*","index":3,"text":"match karate.response.header('content-type') == 'application\/json; charset=utf-8'"}},{"result":{"nanos":11173546,"millis":11.173546,"status":"passed"},"step":{"line":9,"prefix":"*","index":4,"text":"def availableBooks = karate.filter(response, function(x){ return x.available == true })"}},{"result":{"nanos":3045748,"millis":3.045748,"status":"passed"},"step":{"line":10,"prefix":"*","index":5,"text":"match availableBooks != null"}},{"result":{"nanos":1584151,"millis":1.584151,"status":"passed"},"step":{"line":11,"prefix":"*","index":6,"text":"def bookToOrder = availableBooks[0]"}},{"result":{"nanos":573583,"millis":0.573583,"status":"passed"},"step":{"line":12,"prefix":"*","index":7,"text":"match $ == '#notnull'"}}],"executorName":"main","line":4,"name":"get only available books","description":"","durationMillis":506.700972,"startTime":1690475448113,"failed":false,"refId":"[1:4]","endTime":1690475448621,"exampleIndex":-1}],"callDepth":1,"name":"","description":"","resultDate":"2023-07-27 05:30:49 PM","durationMillis":506.700972,"passedCount":1}]},{"result":{"nanos":480800338,"millis":480.800338,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":3,"text":"def unavailableBooksFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')"},"stepLog":"17:30:49.102 << lock released, cached callonce: read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature","packageQualifiedName":"officialpackage.SimpleBooksAPI.unavaiableBooks","loopIndex":-1,"relativePath":"officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":254681,"millis":0.254681,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"url 'https:\/\/simple-books-api.glitch.me'"},"stepLog":"17:30:48.624 >> lock acquired, begin callonce: read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')\n"},{"result":{"nanos":148676,"millis":0.148676,"status":"passed"},"step":{"line":5,"prefix":"Given","index":0,"text":"path '\/books'"}},{"result":{"nanos":462480412,"millis":462.480412,"status":"passed"},"step":{"line":6,"prefix":"When","index":1,"text":"method GET"},"stepLog":"17:30:48.632 request:\n1 > GET https:\/\/simple-books-api.glitch.me\/books\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n\n\n17:30:49.091 response time in milliseconds: 456\n1 < 200\n1 < Date: Thu, 27 Jul 2023 16:30:49 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 417\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"1a1-MfqhfTYtZO2sguD1mJq8Vf41WjU\"\n[{\"id\":1,\"name\":\"The Russian\",\"type\":\"fiction\",\"available\":true},{\"id\":2,\"name\":\"Just as I Am\",\"type\":\"non-fiction\",\"available\":false},{\"id\":3,\"name\":\"The Vanishing Half\",\"type\":\"fiction\",\"available\":true},{\"id\":4,\"name\":\"The Midnight Library\",\"type\":\"fiction\",\"available\":true},{\"id\":5,\"name\":\"Untamed\",\"type\":\"non-fiction\",\"available\":true},{\"id\":6,\"name\":\"Viscount Who Loved Me\",\"type\":\"fiction\",\"available\":true}]\n\n"},{"result":{"nanos":28258,"millis":0.028258,"status":"passed"},"step":{"line":7,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":1548272,"millis":1.548272,"status":"passed"},"step":{"line":8,"prefix":"*","index":3,"text":"match karate.response.header('content-type') == 'application\/json; charset=utf-8'"}},{"result":{"nanos":3720319,"millis":3.720319,"status":"passed"},"step":{"line":9,"prefix":"*","index":4,"text":"def availableBooks = karate.filter(response, function(x){ return x.available == false })"}},{"result":{"nanos":764835,"millis":0.764835,"status":"passed"},"step":{"line":10,"prefix":"*","index":5,"text":"match availableBooks != null"}},{"result":{"nanos":552852,"millis":0.552852,"status":"passed"},"step":{"line":11,"prefix":"*","index":6,"text":"def bookToOrder = availableBooks[0]"}},{"result":{"nanos":606447,"millis":0.606447,"status":"passed"},"step":{"line":12,"prefix":"*","index":7,"text":"match $ == '#notnull'"}}],"executorName":"main","line":4,"name":"get only available books","description":"","durationMillis":470.104752,"startTime":1690475448630,"failed":false,"refId":"[1:4]","endTime":1690475449102,"exampleIndex":-1}],"callDepth":1,"name":"","description":"","resultDate":"2023-07-27 05:30:49 PM","durationMillis":470.104752,"passedCount":1}]},{"result":{"nanos":181625,"millis":0.181625,"status":"passed"},"step":{"line":12,"prefix":"Given","index":0,"text":"path '\/books'"}},{"result":{"nanos":442624823,"millis":442.624823,"status":"passed"},"step":{"line":13,"prefix":"When","index":1,"text":"method GET"},"stepLog":"17:30:49.104 request:\n1 > GET https:\/\/simple-books-api.glitch.me\/books\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n\n\n17:30:49.543 response time in milliseconds: 437\n1 < 200\n1 < Date: Thu, 27 Jul 2023 16:30:49 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 417\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"1a1-MfqhfTYtZO2sguD1mJq8Vf41WjU\"\n[{\"id\":1,\"name\":\"The Russian\",\"type\":\"fiction\",\"available\":true},{\"id\":2,\"name\":\"Just as I Am\",\"type\":\"non-fiction\",\"available\":false},{\"id\":3,\"name\":\"The Vanishing Half\",\"type\":\"fiction\",\"available\":true},{\"id\":4,\"name\":\"The Midnight Library\",\"type\":\"fiction\",\"available\":true},{\"id\":5,\"name\":\"Untamed\",\"type\":\"non-fiction\",\"available\":true},{\"id\":6,\"name\":\"Viscount Who Loved Me\",\"type\":\"fiction\",\"available\":true}]\n\n"},{"result":{"nanos":30436,"millis":0.030436,"status":"passed"},"step":{"line":14,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":1956995,"millis":1.956995,"status":"passed"},"step":{"comments":["#      * print karate.response"],"line":16,"prefix":"*","index":3,"text":"match karate.response.header('content-type') == 'application\/json; charset=utf-8'"}},{"result":{"nanos":9759906,"millis":9.759906,"status":"passed"},"step":{"comments":["#      * match each response contains {type: '#notnull'}"],"line":18,"prefix":"*","index":4,"text":"match each $ contains { type: \"#notnull\"}"}},{"result":{"nanos":584808,"millis":0.584808,"status":"passed"},"step":{"line":19,"prefix":"*","index":5,"text":"def validTypes = ['fiction', 'non-fiction']"}},{"result":{"nanos":25613515,"millis":25.613515,"status":"passed"},"step":{"line":20,"prefix":"*","index":6,"text":"match each response contains { type: '#? validTypes.includes(_)' }"}}],"executorName":"main","line":11,"name":"verify that 'type' filter works correctly on the list of books endpoint (check the case 'fiction' and 'non-fiction')","description":"","durationMillis":2814.286547,"startTime":1690475446619,"failed":false,"refId":"[1:11]","endTime":1690475449584,"exampleIndex":-1}],"callDepth":0,"name":"Book ordering process","description":"","resultDate":"2023-07-27 05:30:49 PM","durationMillis":2814.286547,"passedCount":1}