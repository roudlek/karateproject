{"failedCount":0,"prefixedPath":"classpath:officialpackage\/SimpleBooksAPI\/BookOrderingProcess.feature","packageQualifiedName":"officialpackage.SimpleBooksAPI.BookOrderingProcess","loopIndex":-1,"relativePath":"officialpackage\/SimpleBooksAPI\/BookOrderingProcess.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1718953,"millis":1.718953,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'https:\/\/simple-books-api.glitch.me'"},"stepLog":"18:09:12.424 karate.env system property was: null \n"},{"result":{"nanos":1645310833,"millis":1645.310833,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def tokenCreationFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')"},"stepLog":"18:09:14.111 this thread waited 1626 milliseconds for callonce lock: read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')\n"},{"result":{"nanos":399502953,"millis":399.502953,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def availableBooksFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')"},"stepLog":"18:09:14.511 this thread waited 393 milliseconds for callonce lock: read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')\n"},{"result":{"nanos":403293331,"millis":403.293331,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def unavailableBooksFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')"},"stepLog":"18:09:14.914 this thread waited 398 milliseconds for callonce lock: read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')\n"},{"result":{"nanos":1241035,"millis":1.241035,"status":"passed"},"step":{"line":13,"prefix":"Given","index":0,"text":"path '\/books'"}},{"result":{"nanos":384186752,"millis":384.186752,"status":"passed"},"step":{"line":14,"prefix":"When","index":1,"text":"method GET"},"stepLog":"18:09:14.922 request:\n1 > GET https:\/\/simple-books-api.glitch.me\/books\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.20)\n1 > Accept-Encoding: gzip,deflate\n\n\n18:09:15.297 response time in milliseconds: 373\n1 < 200\n1 < Date: Wed, 16 Aug 2023 17:09:15 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 417\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"1a1-MfqhfTYtZO2sguD1mJq8Vf41WjU\"\n[{\"id\":1,\"name\":\"The Russian\",\"type\":\"fiction\",\"available\":true},{\"id\":2,\"name\":\"Just as I Am\",\"type\":\"non-fiction\",\"available\":false},{\"id\":3,\"name\":\"The Vanishing Half\",\"type\":\"fiction\",\"available\":true},{\"id\":4,\"name\":\"The Midnight Library\",\"type\":\"fiction\",\"available\":true},{\"id\":5,\"name\":\"Untamed\",\"type\":\"non-fiction\",\"available\":true},{\"id\":6,\"name\":\"Viscount Who Loved Me\",\"type\":\"fiction\",\"available\":true}]\n\n"},{"result":{"nanos":29270,"millis":0.02927,"status":"passed"},"step":{"line":15,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":4868039,"millis":4.868039,"status":"passed"},"step":{"comments":["#      * print karate.response"],"line":17,"prefix":"*","index":3,"text":"match karate.response.header('content-type') == 'application\/json; charset=utf-8'"}},{"result":{"nanos":30095403,"millis":30.095403,"status":"passed"},"step":{"comments":["#      * match each response contains {type: '#notnull'}"],"line":19,"prefix":"*","index":4,"text":"match each $ contains { type: \"#notnull\"}"}},{"result":{"nanos":506214,"millis":0.506214,"status":"passed"},"step":{"line":20,"prefix":"*","index":5,"text":"def validTypes = ['fiction', 'non-fiction']"}},{"result":{"nanos":22414256,"millis":22.414256,"status":"passed"},"step":{"line":21,"prefix":"*","index":6,"text":"match each response contains { type: '#? validTypes.includes(_)' }"}}],"line":12,"description":"","durationMillis":2893.167039,"failed":false,"tags":["smoke"],"executorName":"pool-1-thread-1","name":"verify that 'type' filter works correctly on the list of books endpoint (check the case 'fiction' and 'non-fiction')","startTime":1692205752364,"refId":"[1:12]","endTime":1692205755361,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":2449399,"millis":2.449399,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'https:\/\/simple-books-api.glitch.me'"},"stepLog":"18:09:12.446 karate.env system property was: null \n"},{"result":{"nanos":1645466166,"millis":1645.466166,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def tokenCreationFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')"},"stepLog":"18:09:14.112 this thread waited 1627 milliseconds for callonce lock: read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')\n"},{"result":{"nanos":399725483,"millis":399.725483,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def availableBooksFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')"},"stepLog":"18:09:14.512 this thread waited 394 milliseconds for callonce lock: read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')\n"},{"result":{"nanos":403837734,"millis":403.837734,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def unavailableBooksFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')"},"stepLog":"18:09:14.916 this thread waited 400 milliseconds for callonce lock: read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')\n"},{"result":{"nanos":848823,"millis":0.848823,"status":"passed"},"step":{"line":24,"prefix":"Given","index":0,"text":"path '\/orders'"}},{"result":{"nanos":3681896,"millis":3.681896,"status":"passed"},"step":{"comments":["# Call the scenario that generates the access token and store the response in a variable"],"line":26,"prefix":"*","index":1,"text":"def generatedAccessToken = tokenCreationFeature.response.accessToken"}},{"result":{"nanos":1540113,"millis":1.540113,"status":"passed"},"step":{"comments":["# Extract the access token from the response and store it in a variable"],"line":28,"prefix":"*","index":2,"text":"header Authorization = 'Bearer ' + generatedAccessToken"}},{"result":{"nanos":3204722,"millis":3.204722,"status":"passed"},"step":{"line":29,"prefix":"*","index":3,"text":"def customerName = tokenCreationFeature.APIClientData.clientName"}},{"result":{"nanos":2251128,"millis":2.251128,"status":"passed"},"step":{"line":30,"prefix":"*","index":4,"text":"def firstAvailableBookID = availableBooksFeature.bookToOrder.id"}},{"result":{"nanos":2772257,"millis":2.772257,"status":"passed"},"step":{"line":31,"prefix":"*","index":5,"text":"print firstAvailableBookID"},"stepLog":"18:09:14.932 [print] 1 \n"},{"result":{"nanos":1710610,"millis":1.71061,"status":"passed"},"step":{"line":32,"prefix":"*","index":6,"text":"request { \"bookId\": '#(firstAvailableBookID)', \"customerName\": '#(customerName)' }"}},{"result":{"nanos":496020737,"millis":496.020737,"status":"passed"},"step":{"line":33,"prefix":"When","index":7,"text":"method POST"},"stepLog":"18:09:14.936 request:\n1 > POST https:\/\/simple-books-api.glitch.me\/orders\n1 > Authorization: Bearer 2b0554fc11a7400a146df1cb7e7953c639a2c064eaf05cce2649afa2170acc0a\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 48\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.20)\n1 > Accept-Encoding: gzip,deflate\n{\"bookId\":1,\"customerName\":\"enubfwgprolbvgvitq\"}\n\n18:09:15.429 response time in milliseconds: 493\n1 < 201\n1 < Date: Wed, 16 Aug 2023 17:09:15 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 50\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"32-NDC+ccziQTHMP56JJqNm7DwIkYI\"\n{\"created\":true,\"orderId\":\"eCqiKgczMLpz4CqFAWYdY\"}\n\n"},{"result":{"nanos":9839,"millis":0.009839,"status":"passed"},"step":{"line":34,"prefix":"*","index":8,"text":"status 201"}},{"result":{"nanos":885515,"millis":0.885515,"status":"passed"},"step":{"line":35,"prefix":"*","index":9,"text":"match $ == '#notnull'"}},{"result":{"nanos":246021,"millis":0.246021,"status":"passed"},"step":{"line":36,"prefix":"*","index":10,"text":"match $ contains {orderId: '#notnull'}"}},{"result":{"nanos":154195,"millis":0.154195,"status":"passed"},"step":{"line":37,"prefix":"*","index":11,"text":"match $ contains {orderId: '#string'}"}}],"line":23,"description":"","durationMillis":2964.804638,"failed":false,"tags":["smoke"],"executorName":"pool-1-thread-2","name":"verify the successful creation of an order with an available book (book in stock)","startTime":1692205752364,"refId":"[2:23]","endTime":1692205755432,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":3237525,"millis":3.237525,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'https:\/\/simple-books-api.glitch.me'"},"stepLog":"18:09:12.450 karate.env system property was: null \n"},{"result":{"nanos":1645557586,"millis":1645.557586,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def tokenCreationFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')"},"stepLog":"18:09:14.111 << lock released, cached callonce: read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature","packageQualifiedName":"officialpackage.SimpleBooksAPI.tokenCreationFeature","loopIndex":-1,"relativePath":"officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":30719957,"millis":30.719957,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def APIClientData = read('classpath:officialpackage\/SimpleBooksAPI\/APIClientData.json')"},"stepLog":"18:09:12.485 >> lock acquired, begin callonce: read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')\n"},{"result":{"nanos":199331,"millis":0.199331,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"url 'https:\/\/simple-books-api.glitch.me'"}},{"result":{"nanos":20465665,"millis":20.465665,"status":"passed"},"step":{"endLine":35,"comments":["# JavaScript function to generate a random email address"],"line":11,"prefix":"*","docString":"function generateFullEmail(){\n    function generateTLD() {\n      let result = '';\n      for (let i = 0; i < 63; i++) {\n        const randomIndex = Math.floor(Math.random() * characters.length);\n        result += characters.charAt(randomIndex);\n      }\n      return result;\n    }\n    const characters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n    const tld = generateTLD().slice(0, Math.floor(Math.random() * 62) + 2);\n    function generateRandomClientEmail() {\n      const generateTLD = () => Math.random().toString(36).substring(2);\n      const username = generateTLD().slice(0, Math.floor(Math.random() * 64) + 1);\n      const domain = generateTLD().slice(0, Math.floor(Math.random() * 253) + 2);\n      return `${username}@${domain}.${tld}`;\n    }\n  return generateRandomClientEmail();\n }","index":0,"text":"def generateRandomClientEmail ="}},{"result":{"nanos":1919663,"millis":1.919663,"status":"passed"},"step":{"endLine":50,"line":36,"prefix":"*","docString":"function generateRandomClientName() {\n  const length = Math.floor(Math.random() * 18) + 3;\n  const characters = 'abcdefghijklmnopqrstuvwxyz';\n  let name = '';\n  for (let i = 0; i < length; i++) {\n    const randomIndex = Math.floor(Math.random() * characters.length);\n    name += characters[randomIndex];\n  }\n  return name;\n}","index":1,"text":"def generateRandomClientName ="}},{"result":{"nanos":325369,"millis":0.325369,"status":"passed"},"step":{"line":51,"prefix":"Given","index":2,"text":"path '\/api-clients\/'"}},{"result":{"nanos":23997393,"millis":23.997393,"status":"passed"},"step":{"comments":["# We set the generated prefix of our json file of clientEmail to the returned value of the js function"],"line":53,"prefix":"*","index":3,"text":"set APIClientData.clientEmail = generateRandomClientEmail()"}},{"result":{"nanos":2496892,"millis":2.496892,"status":"passed"},"step":{"line":54,"prefix":"*","index":4,"text":"set APIClientData.clientName = generateRandomClientName()"}},{"result":{"nanos":11988968,"millis":11.988968,"status":"passed"},"step":{"line":55,"prefix":"*","index":5,"text":"match APIClientData contains { clientName: '#notnull' }"}},{"result":{"nanos":634019,"millis":0.634019,"status":"passed"},"step":{"line":56,"prefix":"*","index":6,"text":"match APIClientData contains { clientEmail: '#regex ^[a-zA-Z0-9._%+-]{1,64}@[a-zA-Z0-9.-]{1,255}\\.[a-zA-Z]{2,63}$'} # Validate email format"}},{"result":{"nanos":161985,"millis":0.161985,"status":"passed"},"step":{"line":57,"prefix":"*","index":7,"text":"request APIClientData"}},{"result":{"nanos":1517666853,"millis":1517.666853,"status":"passed"},"step":{"line":58,"prefix":"When","index":8,"text":"method POST"},"stepLog":"18:09:12.803 request:\n1 > POST https:\/\/simple-books-api.glitch.me\/api-clients\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 108\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.20)\n1 > Accept-Encoding: gzip,deflate\n{\"clientName\":\"enubfwgprolbvgvitq\",\"clientEmail\":\"uyvjv1gpnp@hup27svznyb.ikUXTsPKUfHFnruyuBZoKcRAWXVQnDyRy\"}\n\n18:09:14.097 response time in milliseconds: 1288\n1 < 201\n1 < Date: Wed, 16 Aug 2023 17:09:14 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 82\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"52-cTzDuXiJMRa\/MiufpsFxzt68LAM\"\n{\"accessToken\":\"2b0554fc11a7400a146df1cb7e7953c639a2c064eaf05cce2649afa2170acc0a\"}\n\n"},{"result":{"nanos":56752,"millis":0.056752,"status":"passed"},"step":{"line":59,"prefix":"Then","index":9,"text":"status 201"}},{"result":{"nanos":1836658,"millis":1.836658,"status":"passed"},"step":{"line":60,"prefix":"*","index":10,"text":"match $ == '#notnull'"}},{"result":{"nanos":959312,"millis":0.959312,"status":"passed"},"step":{"line":61,"prefix":"*","index":11,"text":"match $.accessToken == '#notnull'"}},{"result":{"nanos":1077930,"millis":1.07793,"status":"passed"},"step":{"line":62,"prefix":"*","index":12,"text":"match $.accessToken == '#string'"}},{"result":{"nanos":625586,"millis":0.625586,"status":"passed"},"step":{"comments":["# Validate access token format (64 characters hexadecimal)"],"line":65,"prefix":"*","index":13,"text":"match $ == { accessToken: '#regex ^[0-9a-f]{64}$'}"}},{"result":{"nanos":563068,"millis":0.563068,"status":"passed"},"step":{"line":66,"prefix":"*","index":14,"text":"def generatedAccessToken = $.accessToken"}}],"line":9,"description":"","durationMillis":1615.695401,"failed":false,"tags":["createToken"],"executorName":"pool-1-thread-3","name":"verify the creation of token after an authentication","startTime":1692205752492,"refId":"[1:9]","endTime":1692205754109,"exampleIndex":-1}],"callDepth":1,"name":"Token creation feature","description":"","resultDate":"2023-08-16 06:09:15 PM","durationMillis":1615.695401,"passedCount":1}]},{"result":{"nanos":398439020,"millis":398.43902,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def availableBooksFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')"},"stepLog":"18:09:14.511 << lock released, cached callonce: read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature","packageQualifiedName":"officialpackage.SimpleBooksAPI.avaiableBooks","loopIndex":-1,"relativePath":"officialpackage\/SimpleBooksAPI\/avaiableBooks.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":201588,"millis":0.201588,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"url 'https:\/\/simple-books-api.glitch.me'"},"stepLog":"18:09:14.119 >> lock acquired, begin callonce: read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')\n"},{"result":{"nanos":381724,"millis":0.381724,"status":"passed"},"step":{"line":5,"prefix":"Given","index":0,"text":"path '\/books'"}},{"result":{"nanos":356611999,"millis":356.611999,"status":"passed"},"step":{"line":6,"prefix":"When","index":1,"text":"method GET"},"stepLog":"18:09:14.127 request:\n1 > GET https:\/\/simple-books-api.glitch.me\/books\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.20)\n1 > Accept-Encoding: gzip,deflate\n\n\n18:09:14.474 response time in milliseconds: 345\n1 < 200\n1 < Date: Wed, 16 Aug 2023 17:09:14 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 417\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"1a1-MfqhfTYtZO2sguD1mJq8Vf41WjU\"\n[{\"id\":1,\"name\":\"The Russian\",\"type\":\"fiction\",\"available\":true},{\"id\":2,\"name\":\"Just as I Am\",\"type\":\"non-fiction\",\"available\":false},{\"id\":3,\"name\":\"The Vanishing Half\",\"type\":\"fiction\",\"available\":true},{\"id\":4,\"name\":\"The Midnight Library\",\"type\":\"fiction\",\"available\":true},{\"id\":5,\"name\":\"Untamed\",\"type\":\"non-fiction\",\"available\":true},{\"id\":6,\"name\":\"Viscount Who Loved Me\",\"type\":\"fiction\",\"available\":true}]\n\n"},{"result":{"nanos":39532,"millis":0.039532,"status":"passed"},"step":{"line":7,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":11072572,"millis":11.072572,"status":"passed"},"step":{"line":8,"prefix":"*","index":3,"text":"match karate.response.header('content-type') == 'application\/json; charset=utf-8'"}},{"result":{"nanos":9220517,"millis":9.220517,"status":"passed"},"step":{"line":9,"prefix":"*","index":4,"text":"def availableBooks = karate.filter(response, function(x){ return x.available == true })"}},{"result":{"nanos":3678862,"millis":3.678862,"status":"passed"},"step":{"line":10,"prefix":"*","index":5,"text":"match availableBooks != null"}},{"result":{"nanos":1784149,"millis":1.784149,"status":"passed"},"step":{"line":11,"prefix":"*","index":6,"text":"def bookToOrder = availableBooks[0]"}},{"result":{"nanos":603257,"millis":0.603257,"status":"passed"},"step":{"line":12,"prefix":"*","index":7,"text":"match $ == '#notnull'"}}],"executorName":"pool-1-thread-3","line":4,"name":"get only available books","description":"","durationMillis":383.5942,"startTime":1692205754125,"failed":false,"refId":"[1:4]","endTime":1692205754511,"exampleIndex":-1}],"callDepth":1,"name":"","description":"","resultDate":"2023-08-16 06:09:15 PM","durationMillis":383.5942,"passedCount":1}]},{"result":{"nanos":402286586,"millis":402.286586,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def unavailableBooksFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')"},"stepLog":"18:09:14.913 << lock released, cached callonce: read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature","packageQualifiedName":"officialpackage.SimpleBooksAPI.unavaiableBooks","loopIndex":-1,"relativePath":"officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":218498,"millis":0.218498,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"url 'https:\/\/simple-books-api.glitch.me'"},"stepLog":"18:09:14.516 >> lock acquired, begin callonce: read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')\n"},{"result":{"nanos":91190,"millis":0.09119,"status":"passed"},"step":{"line":5,"prefix":"Given","index":0,"text":"path '\/books'"}},{"result":{"nanos":370424230,"millis":370.42423,"status":"passed"},"step":{"line":6,"prefix":"When","index":1,"text":"method GET"},"stepLog":"18:09:14.526 request:\n1 > GET https:\/\/simple-books-api.glitch.me\/books\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.20)\n1 > Accept-Encoding: gzip,deflate\n\n\n18:09:14.889 response time in milliseconds: 361\n1 < 200\n1 < Date: Wed, 16 Aug 2023 17:09:14 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 417\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"1a1-MfqhfTYtZO2sguD1mJq8Vf41WjU\"\n[{\"id\":1,\"name\":\"The Russian\",\"type\":\"fiction\",\"available\":true},{\"id\":2,\"name\":\"Just as I Am\",\"type\":\"non-fiction\",\"available\":false},{\"id\":3,\"name\":\"The Vanishing Half\",\"type\":\"fiction\",\"available\":true},{\"id\":4,\"name\":\"The Midnight Library\",\"type\":\"fiction\",\"available\":true},{\"id\":5,\"name\":\"Untamed\",\"type\":\"non-fiction\",\"available\":true},{\"id\":6,\"name\":\"Viscount Who Loved Me\",\"type\":\"fiction\",\"available\":true}]\n\n"},{"result":{"nanos":34402,"millis":0.034402,"status":"passed"},"step":{"line":7,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":3802700,"millis":3.8027,"status":"passed"},"step":{"line":8,"prefix":"*","index":3,"text":"match karate.response.header('content-type') == 'application\/json; charset=utf-8'"}},{"result":{"nanos":7191121,"millis":7.191121,"status":"passed"},"step":{"line":9,"prefix":"*","index":4,"text":"def availableBooks = karate.filter(response, function(x){ return x.available == false })"}},{"result":{"nanos":1342770,"millis":1.34277,"status":"passed"},"step":{"line":10,"prefix":"*","index":5,"text":"match availableBooks != null"}},{"result":{"nanos":1140575,"millis":1.140575,"status":"passed"},"step":{"line":11,"prefix":"*","index":6,"text":"def bookToOrder = availableBooks[0]"}},{"result":{"nanos":1107079,"millis":1.107079,"status":"passed"},"step":{"line":12,"prefix":"*","index":7,"text":"match $ == '#notnull'"}}],"executorName":"pool-1-thread-3","line":4,"name":"get only available books","description":"","durationMillis":385.352565,"startTime":1692205754524,"failed":false,"refId":"[1:4]","endTime":1692205754912,"exampleIndex":-1}],"callDepth":1,"name":"","description":"","resultDate":"2023-08-16 06:09:15 PM","durationMillis":385.352565,"passedCount":1}]},{"result":{"nanos":1739439,"millis":1.739439,"status":"passed"},"step":{"line":40,"prefix":"Given","index":0,"text":"path '\/orders'"}},{"result":{"nanos":2300930,"millis":2.30093,"status":"passed"},"step":{"comments":["# Call the scenario that generates the access token and store the response in a variable"],"line":42,"prefix":"*","index":1,"text":"def generatedAccessToken = tokenCreationFeature.response.accessToken"}},{"result":{"nanos":2029584,"millis":2.029584,"status":"passed"},"step":{"comments":["# Extract the access token from the response and store it in a variable"],"line":44,"prefix":"*","index":2,"text":"header Authorization = 'Bearer ' + generatedAccessToken"}},{"result":{"nanos":2914692,"millis":2.914692,"status":"passed"},"step":{"line":45,"prefix":"*","index":3,"text":"def customerName = tokenCreationFeature.APIClientData.clientName"}},{"result":{"nanos":2522957,"millis":2.522957,"status":"passed"},"step":{"line":46,"prefix":"*","index":4,"text":"def firstUnavailableBookID = unavailableBooksFeature.bookToOrder.id"}},{"result":{"nanos":2727280,"millis":2.72728,"status":"passed"},"step":{"line":47,"prefix":"*","index":5,"text":"request { \"bookId\": '#(firstUnavailableBookID)', \"customerName\": '#(customerName)' }"}},{"result":{"nanos":384936345,"millis":384.936345,"status":"passed"},"step":{"line":48,"prefix":"When","index":6,"text":"method POST"},"stepLog":"18:09:14.934 request:\n1 > POST https:\/\/simple-books-api.glitch.me\/orders\n1 > Authorization: Bearer 2b0554fc11a7400a146df1cb7e7953c639a2c064eaf05cce2649afa2170acc0a\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 48\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.20)\n1 > Accept-Encoding: gzip,deflate\n{\"bookId\":2,\"customerName\":\"enubfwgprolbvgvitq\"}\n\n18:09:15.312 response time in milliseconds: 376\n1 < 404\n1 < Date: Wed, 16 Aug 2023 17:09:15 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 55\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"37-EwJEhBGIU3KiOH3ypr8c6yRFaMQ\"\n{\"error\":\"This book is not in stock. Try again later.\"}\n\n"},{"result":{"nanos":35577,"millis":0.035577,"status":"passed"},"step":{"line":49,"prefix":"*","index":7,"text":"status 404"}},{"result":{"nanos":1679709,"millis":1.679709,"status":"passed"},"step":{"line":50,"prefix":"*","index":8,"text":"match $ == '#notnull'"}},{"result":{"nanos":1913873,"millis":1.913873,"status":"passed"},"step":{"line":51,"prefix":"*","index":9,"text":"match $ contains {error: '#notnull'}"}},{"result":{"nanos":1991121,"millis":1.991121,"status":"passed"},"step":{"line":52,"prefix":"*","index":10,"text":"match $ !contains {orderId: '#notnull'}"}}],"line":39,"description":"","durationMillis":2854.312224,"failed":false,"tags":["smoke"],"executorName":"pool-1-thread-3","name":"verify the unsuccessful creation of order when the book is out of stock","startTime":1692205752364,"refId":"[3:39]","endTime":1692205755324,"exampleIndex":-1}],"callDepth":0,"name":"Book ordering process","description":"","resultDate":"2023-08-16 06:09:15 PM","durationMillis":8712.283901,"passedCount":3}