{"failedCount":0,"prefixedPath":"classpath:officialpackage\/SimpleBooksAPI\/BookOrderingProcess.feature","packageQualifiedName":"officialpackage.SimpleBooksAPI.BookOrderingProcess","loopIndex":-1,"relativePath":"officialpackage\/SimpleBooksAPI\/BookOrderingProcess.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1058656,"millis":1.058656,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"url 'https:\/\/simple-books-api.glitch.me'"},"stepLog":"12:11:37.228 karate.env system property was: null \n"},{"result":{"nanos":1825340450,"millis":1825.34045,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":1,"text":"def tokenCreationFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')"},"stepLog":"12:11:39.085 this thread waited 1809 milliseconds for callonce lock: read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')\n"},{"result":{"nanos":659517738,"millis":659.517738,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":2,"text":"def availableBooksFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')"},"stepLog":"12:11:39.745 << lock released, cached callonce: read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature","packageQualifiedName":"officialpackage.SimpleBooksAPI.avaiableBooks","loopIndex":-1,"relativePath":"officialpackage\/SimpleBooksAPI\/avaiableBooks.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":536887,"millis":0.536887,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"url 'https:\/\/simple-books-api.glitch.me'"},"stepLog":"12:11:39.090 >> lock acquired, begin callonce: read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')\n"},{"result":{"nanos":425320,"millis":0.42532,"status":"passed"},"step":{"line":5,"prefix":"Given","index":0,"text":"path '\/books'"}},{"result":{"nanos":626607568,"millis":626.607568,"status":"passed"},"step":{"line":6,"prefix":"When","index":1,"text":"method GET"},"stepLog":"12:11:39.100 request:\n1 > GET https:\/\/simple-books-api.glitch.me\/books\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n\n\n12:11:39.721 response time in milliseconds: 619\n1 < 200\n1 < Date: Thu, 27 Jul 2023 11:11:39 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 417\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"1a1-MfqhfTYtZO2sguD1mJq8Vf41WjU\"\n[{\"id\":1,\"name\":\"The Russian\",\"type\":\"fiction\",\"available\":true},{\"id\":2,\"name\":\"Just as I Am\",\"type\":\"non-fiction\",\"available\":false},{\"id\":3,\"name\":\"The Vanishing Half\",\"type\":\"fiction\",\"available\":true},{\"id\":4,\"name\":\"The Midnight Library\",\"type\":\"fiction\",\"available\":true},{\"id\":5,\"name\":\"Untamed\",\"type\":\"non-fiction\",\"available\":true},{\"id\":6,\"name\":\"Viscount Who Loved Me\",\"type\":\"fiction\",\"available\":true}]\n\n"},{"result":{"nanos":11170,"millis":0.01117,"status":"passed"},"step":{"line":7,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":4889003,"millis":4.889003,"status":"passed"},"step":{"line":8,"prefix":"*","index":3,"text":"match karate.response.header('content-type') == 'application\/json; charset=utf-8'"}},{"result":{"nanos":8694868,"millis":8.694868,"status":"passed"},"step":{"line":9,"prefix":"*","index":4,"text":"def availableBooks = karate.filter(response, function(x){ return x.available == true })"}},{"result":{"nanos":3095731,"millis":3.095731,"status":"passed"},"step":{"line":10,"prefix":"*","index":5,"text":"match availableBooks != null"}},{"result":{"nanos":1436080,"millis":1.43608,"status":"passed"},"step":{"line":11,"prefix":"*","index":6,"text":"def bookToOrder = availableBooks[0]"}},{"result":{"nanos":797667,"millis":0.797667,"status":"passed"},"step":{"line":12,"prefix":"*","index":7,"text":"match $ == '#notnull'"}}],"executorName":"pool-1-thread-1","line":4,"name":"get only available books","description":"","durationMillis":646.494294,"startTime":1690456299097,"failed":false,"refId":"[1:4]","endTime":1690456299745,"exampleIndex":-1}],"callDepth":1,"name":"","description":"","resultDate":"2023-07-27 12:11:41 PM","durationMillis":646.494294,"passedCount":1}]},{"result":{"nanos":554149874,"millis":554.149874,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":3,"text":"def unavailableBooksFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')"},"stepLog":"12:11:40.299 << lock released, cached callonce: read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature","packageQualifiedName":"officialpackage.SimpleBooksAPI.unavaiableBooks","loopIndex":-1,"relativePath":"officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":211401,"millis":0.211401,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"url 'https:\/\/simple-books-api.glitch.me'"},"stepLog":"12:11:39.748 >> lock acquired, begin callonce: read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')\n"},{"result":{"nanos":132339,"millis":0.132339,"status":"passed"},"step":{"line":5,"prefix":"Given","index":0,"text":"path '\/books'"}},{"result":{"nanos":529163355,"millis":529.163355,"status":"passed"},"step":{"line":6,"prefix":"When","index":1,"text":"method GET"},"stepLog":"12:11:39.756 request:\n1 > GET https:\/\/simple-books-api.glitch.me\/books\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n\n\n12:11:40.279 response time in milliseconds: 521\n1 < 200\n1 < Date: Thu, 27 Jul 2023 11:11:40 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 417\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"1a1-MfqhfTYtZO2sguD1mJq8Vf41WjU\"\n[{\"id\":1,\"name\":\"The Russian\",\"type\":\"fiction\",\"available\":true},{\"id\":2,\"name\":\"Just as I Am\",\"type\":\"non-fiction\",\"available\":false},{\"id\":3,\"name\":\"The Vanishing Half\",\"type\":\"fiction\",\"available\":true},{\"id\":4,\"name\":\"The Midnight Library\",\"type\":\"fiction\",\"available\":true},{\"id\":5,\"name\":\"Untamed\",\"type\":\"non-fiction\",\"available\":true},{\"id\":6,\"name\":\"Viscount Who Loved Me\",\"type\":\"fiction\",\"available\":true}]\n\n"},{"result":{"nanos":35005,"millis":0.035005,"status":"passed"},"step":{"line":7,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":2545363,"millis":2.545363,"status":"passed"},"step":{"line":8,"prefix":"*","index":3,"text":"match karate.response.header('content-type') == 'application\/json; charset=utf-8'"}},{"result":{"nanos":6130887,"millis":6.130887,"status":"passed"},"step":{"line":9,"prefix":"*","index":4,"text":"def availableBooks = karate.filter(response, function(x){ return x.available == false })"}},{"result":{"nanos":1400131,"millis":1.400131,"status":"passed"},"step":{"line":10,"prefix":"*","index":5,"text":"match availableBooks != null"}},{"result":{"nanos":1135085,"millis":1.135085,"status":"passed"},"step":{"line":11,"prefix":"*","index":6,"text":"def bookToOrder = availableBooks[0]"}},{"result":{"nanos":1310761,"millis":1.310761,"status":"passed"},"step":{"line":12,"prefix":"*","index":7,"text":"match $ == '#notnull'"}}],"executorName":"pool-1-thread-1","line":4,"name":"get only available books","description":"","durationMillis":542.064327,"startTime":1690456299754,"failed":false,"refId":"[1:4]","endTime":1690456300298,"exampleIndex":-1}],"callDepth":1,"name":"","description":"","resultDate":"2023-07-27 12:11:41 PM","durationMillis":542.064327,"passedCount":1}]},{"result":{"nanos":298395,"millis":0.298395,"status":"passed"},"step":{"line":11,"prefix":"Given","index":0,"text":"path '\/books'"}},{"result":{"nanos":549293450,"millis":549.29345,"status":"passed"},"step":{"line":12,"prefix":"When","index":1,"text":"method GET"},"stepLog":"12:11:40.303 request:\n1 > GET https:\/\/simple-books-api.glitch.me\/books\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n\n\n12:11:40.846 response time in milliseconds: 541\n1 < 200\n1 < Date: Thu, 27 Jul 2023 11:11:40 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 417\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"1a1-MfqhfTYtZO2sguD1mJq8Vf41WjU\"\n[{\"id\":1,\"name\":\"The Russian\",\"type\":\"fiction\",\"available\":true},{\"id\":2,\"name\":\"Just as I Am\",\"type\":\"non-fiction\",\"available\":false},{\"id\":3,\"name\":\"The Vanishing Half\",\"type\":\"fiction\",\"available\":true},{\"id\":4,\"name\":\"The Midnight Library\",\"type\":\"fiction\",\"available\":true},{\"id\":5,\"name\":\"Untamed\",\"type\":\"non-fiction\",\"available\":true},{\"id\":6,\"name\":\"Viscount Who Loved Me\",\"type\":\"fiction\",\"available\":true}]\n\n"},{"result":{"nanos":32599,"millis":0.032599,"status":"passed"},"step":{"line":13,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":2359625,"millis":2.359625,"status":"passed"},"step":{"comments":["#      * print karate.response"],"line":15,"prefix":"*","index":3,"text":"match karate.response.header('content-type') == 'application\/json; charset=utf-8'"}},{"result":{"nanos":18718942,"millis":18.718942,"status":"passed"},"step":{"comments":["#      * match each response contains {type: '#notnull'}"],"line":17,"prefix":"*","index":4,"text":"match each $ contains { type: \"#notnull\"}"}},{"result":{"nanos":804304,"millis":0.804304,"status":"passed"},"step":{"line":18,"prefix":"*","index":5,"text":"def validTypes = ['fiction', 'non-fiction']"}},{"result":{"nanos":28803521,"millis":28.803521,"status":"passed"},"step":{"line":19,"prefix":"*","index":6,"text":"match each response contains { type: '#? validTypes.includes(_)' }"}}],"executorName":"pool-1-thread-1","line":10,"name":"verify that 'type' filter works correctly on the list of books endpoint (check the case 'fiction' and 'non-fiction')","description":"","durationMillis":3640.377554,"startTime":1690456297116,"failed":false,"refId":"[1:10]","endTime":1690456300902,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":1051911,"millis":1.051911,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"url 'https:\/\/simple-books-api.glitch.me'"},"stepLog":"12:11:37.246 karate.env system property was: null \n"},{"result":{"nanos":1825424650,"millis":1825.42465,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":1,"text":"def tokenCreationFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')"},"stepLog":"12:11:39.085 << lock released, cached callonce: read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature","packageQualifiedName":"officialpackage.SimpleBooksAPI.tokenCreationFeature","loopIndex":-1,"relativePath":"officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":40454603,"millis":40.454603,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def APIClientData = read('classpath:officialpackage\/SimpleBooksAPI\/APIClientData.json')"},"stepLog":"12:11:37.276 >> lock acquired, begin callonce: read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')\n"},{"result":{"nanos":565807,"millis":0.565807,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"url 'https:\/\/simple-books-api.glitch.me'"}},{"result":{"nanos":23347529,"millis":23.347529,"status":"passed"},"step":{"endLine":35,"comments":["# JavaScript function to generate a random email address"],"line":11,"prefix":"*","docString":"function generateFullEmail(){\n    function generateTLD() {\n      let result = '';\n      for (let i = 0; i < 63; i++) {\n        const randomIndex = Math.floor(Math.random() * characters.length);\n        result += characters.charAt(randomIndex);\n      }\n      return result;\n    }\n    const characters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n    const tld = generateTLD().slice(0, Math.floor(Math.random() * 62) + 2);\n    function generateRandomClientEmail() {\n      const generateTLD = () => Math.random().toString(36).substring(2);\n      const username = generateTLD().slice(0, Math.floor(Math.random() * 64) + 1);\n      const domain = generateTLD().slice(0, Math.floor(Math.random() * 253) + 2);\n      return `${username}@${domain}.${tld}`;\n    }\n  return generateRandomClientEmail();\n }","index":0,"text":"def generateRandomClientEmail ="}},{"result":{"nanos":1966663,"millis":1.966663,"status":"passed"},"step":{"endLine":50,"line":36,"prefix":"*","docString":"function generateRandomClientName() {\n  const length = Math.floor(Math.random() * 18) + 3;\n  const characters = 'abcdefghijklmnopqrstuvwxyz';\n  let name = '';\n  for (let i = 0; i < length; i++) {\n    const randomIndex = Math.floor(Math.random() * characters.length);\n    name += characters[randomIndex];\n  }\n  return name;\n}","index":1,"text":"def generateRandomClientName ="}},{"result":{"nanos":321332,"millis":0.321332,"status":"passed"},"step":{"line":51,"prefix":"Given","index":2,"text":"path '\/api-clients\/'"}},{"result":{"nanos":24531461,"millis":24.531461,"status":"passed"},"step":{"comments":["# We set the generated prefix of our json file of clientEmail to the returned value of the js function"],"line":53,"prefix":"*","index":3,"text":"set APIClientData.clientEmail = generateRandomClientEmail()"}},{"result":{"nanos":3567932,"millis":3.567932,"status":"passed"},"step":{"line":54,"prefix":"*","index":4,"text":"set APIClientData.clientName = generateRandomClientName()"}},{"result":{"nanos":7861336,"millis":7.861336,"status":"passed"},"step":{"line":55,"prefix":"*","index":5,"text":"match APIClientData contains { clientName: '#notnull' }"}},{"result":{"nanos":794814,"millis":0.794814,"status":"passed"},"step":{"line":56,"prefix":"*","index":6,"text":"match APIClientData contains { clientEmail: '#regex ^[a-zA-Z0-9._%+-]{1,64}@[a-zA-Z0-9.-]{1,255}\\.[a-zA-Z]{2,63}$'} # Validate email format"}},{"result":{"nanos":167182,"millis":0.167182,"status":"passed"},"step":{"line":57,"prefix":"*","index":7,"text":"request APIClientData"}},{"result":{"nanos":1691503538,"millis":1691.503538,"status":"passed"},"step":{"line":58,"prefix":"When","index":8,"text":"method POST"},"stepLog":"12:11:37.593 request:\n1 > POST https:\/\/simple-books-api.glitch.me\/api-clients\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 93\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"clientName\":\"lbyvusspjswigwlrldd\",\"clientEmail\":\"hlmwd7grd9u@6ye0qqerrxr.eqaKJHcdYBaFjwgm\"}\n\n12:11:39.077 response time in milliseconds: 1480\n1 < 201\n1 < Date: Thu, 27 Jul 2023 11:11:39 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 82\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"52-mC8A2DsrPLP0gw5Y5scdW74+n4w\"\n{\"accessToken\":\"40ab948a92b418dfc0a26e540f8e45b183d9d27fc4b1693811b85dfc7c008e06\"}\n\n"},{"result":{"nanos":24309,"millis":0.024309,"status":"passed"},"step":{"line":59,"prefix":"Then","index":9,"text":"status 201"}},{"result":{"nanos":1030704,"millis":1.030704,"status":"passed"},"step":{"line":60,"prefix":"*","index":10,"text":"match $ == '#notnull'"}},{"result":{"nanos":648008,"millis":0.648008,"status":"passed"},"step":{"line":61,"prefix":"*","index":11,"text":"match $.accessToken == '#notnull'"}},{"result":{"nanos":771363,"millis":0.771363,"status":"passed"},"step":{"line":62,"prefix":"*","index":12,"text":"match $.accessToken == '#string'"}},{"result":{"nanos":485963,"millis":0.485963,"status":"passed"},"step":{"comments":["# Validate access token format (64 characters hexadecimal)"],"line":65,"prefix":"*","index":13,"text":"match $ == { accessToken: '#regex ^[0-9a-f]{64}$'}"}},{"result":{"nanos":453024,"millis":0.453024,"status":"passed"},"step":{"line":66,"prefix":"*","index":14,"text":"def generatedAccessToken = $.accessToken"}}],"line":9,"description":"","durationMillis":1798.495568,"failed":false,"tags":["createToken"],"executorName":"pool-1-thread-2","name":"verify the creation of token after an authentication","startTime":1690456297283,"refId":"[1:9]","endTime":1690456299083,"exampleIndex":-1}],"callDepth":1,"name":"Token creation feature","description":"","resultDate":"2023-07-27 12:11:41 PM","durationMillis":1798.495568,"passedCount":1}]},{"result":{"nanos":659916228,"millis":659.916228,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":2,"text":"def availableBooksFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')"},"stepLog":"12:11:39.745 this thread waited 655 milliseconds for callonce lock: read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')\n"},{"result":{"nanos":554972194,"millis":554.972194,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":3,"text":"def unavailableBooksFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')"},"stepLog":"12:11:40.300 this thread waited 550 milliseconds for callonce lock: read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')\n"},{"result":{"nanos":1072516,"millis":1.072516,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"path '\/orders'"}},{"result":{"nanos":2944257,"millis":2.944257,"status":"passed"},"step":{"comments":["# Call the scenario that generates the access token and store the response in a variable"],"line":24,"prefix":"*","index":1,"text":"def generatedAccessToken = tokenCreationFeature.response.accessToken"}},{"result":{"nanos":1367002,"millis":1.367002,"status":"passed"},"step":{"comments":["# Extract the access token from the response and store it in a variable"],"line":26,"prefix":"*","index":2,"text":"header Authorization = 'Bearer ' + generatedAccessToken"}},{"result":{"nanos":1562425,"millis":1.562425,"status":"passed"},"step":{"line":27,"prefix":"*","index":3,"text":"def customerName = tokenCreationFeature.APIClientData.clientName"}},{"result":{"nanos":1625293,"millis":1.625293,"status":"passed"},"step":{"line":28,"prefix":"*","index":4,"text":"def firstAvailableBookID = availableBooksFeature.bookToOrder.id"}},{"result":{"nanos":2023487,"millis":2.023487,"status":"passed"},"step":{"line":29,"prefix":"*","index":5,"text":"print firstAvailableBookID"},"stepLog":"12:11:40.312 [print] 1 \n"},{"result":{"nanos":1706497,"millis":1.706497,"status":"passed"},"step":{"line":30,"prefix":"*","index":6,"text":"request { \"bookId\": '#(firstAvailableBookID)', \"customerName\": '#(customerName)' }"}},{"result":{"nanos":739109792,"millis":739.109792,"status":"passed"},"step":{"line":31,"prefix":"When","index":7,"text":"method POST"},"stepLog":"12:11:40.316 request:\n1 > POST https:\/\/simple-books-api.glitch.me\/orders\n1 > Authorization: Bearer 40ab948a92b418dfc0a26e540f8e45b183d9d27fc4b1693811b85dfc7c008e06\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 49\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"bookId\":1,\"customerName\":\"lbyvusspjswigwlrldd\"}\n\n12:11:41.051 response time in milliseconds: 732\n1 < 201\n1 < Date: Thu, 27 Jul 2023 11:11:40 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 50\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"32-o0z6E5BMqXmgKiDVQnxEuyijboM\"\n{\"created\":true,\"orderId\":\"SbxCLb9xpzoLmykiq_J2g\"}\n\n"},{"result":{"nanos":32370,"millis":0.03237,"status":"passed"},"step":{"line":32,"prefix":"*","index":8,"text":"status 201"}},{"result":{"nanos":2426388,"millis":2.426388,"status":"passed"},"step":{"line":33,"prefix":"*","index":9,"text":"match $ == '#notnull'"}},{"result":{"nanos":1036785,"millis":1.036785,"status":"passed"},"step":{"line":34,"prefix":"*","index":10,"text":"match $ contains {orderId: '#notnull'}"}},{"result":{"nanos":1085690,"millis":1.08569,"status":"passed"},"step":{"line":35,"prefix":"*","index":11,"text":"match $ contains {orderId: '#string'}"}}],"executorName":"pool-1-thread-2","line":21,"name":"verify the successful creation of an order with an available book (book in stock)","description":"","durationMillis":3797.357485,"startTime":1690456297116,"failed":false,"refId":"[2:21]","endTime":1690456301059,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":1059218,"millis":1.059218,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"url 'https:\/\/simple-books-api.glitch.me'"},"stepLog":"12:11:37.250 karate.env system property was: null \n"},{"result":{"nanos":1825337339,"millis":1825.337339,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":1,"text":"def tokenCreationFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')"},"stepLog":"12:11:39.085 this thread waited 1809 milliseconds for callonce lock: read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')\n"},{"result":{"nanos":660204635,"millis":660.204635,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":2,"text":"def availableBooksFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')"},"stepLog":"12:11:39.746 this thread waited 656 milliseconds for callonce lock: read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')\n"},{"result":{"nanos":554970955,"millis":554.970955,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":3,"text":"def unavailableBooksFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')"},"stepLog":"12:11:40.301 this thread waited 551 milliseconds for callonce lock: read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')\n"},{"result":{"nanos":765499,"millis":0.765499,"status":"passed"},"step":{"line":38,"prefix":"Given","index":0,"text":"path '\/orders'"}},{"result":{"nanos":1782991,"millis":1.782991,"status":"passed"},"step":{"comments":["# Call the scenario that generates the access token and store the response in a variable"],"line":40,"prefix":"*","index":1,"text":"def generatedAccessToken = tokenCreationFeature.response.accessToken"}},{"result":{"nanos":1167782,"millis":1.167782,"status":"passed"},"step":{"comments":["# Extract the access token from the response and store it in a variable"],"line":42,"prefix":"*","index":2,"text":"header Authorization = 'Bearer ' + generatedAccessToken"}},{"result":{"nanos":1195101,"millis":1.195101,"status":"passed"},"step":{"line":43,"prefix":"*","index":3,"text":"def customerName = tokenCreationFeature.APIClientData.clientName"}},{"result":{"nanos":2124902,"millis":2.124902,"status":"passed"},"step":{"line":44,"prefix":"*","index":4,"text":"def firstUnavailableBookID = unavailableBooksFeature.bookToOrder.id"}},{"result":{"nanos":1956361,"millis":1.956361,"status":"passed"},"step":{"line":45,"prefix":"*","index":5,"text":"request { \"bookId\": '#(firstUnavailableBookID)', \"customerName\": '#(customerName)' }"}},{"result":{"nanos":941549150,"millis":941.54915,"status":"passed"},"step":{"line":46,"prefix":"When","index":6,"text":"method POST"},"stepLog":"12:11:40.312 request:\n1 > POST https:\/\/simple-books-api.glitch.me\/orders\n1 > Authorization: Bearer 40ab948a92b418dfc0a26e540f8e45b183d9d27fc4b1693811b85dfc7c008e06\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 49\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"bookId\":2,\"customerName\":\"lbyvusspjswigwlrldd\"}\n\n12:11:41.249 response time in milliseconds: 935\n1 < 404\n1 < Date: Thu, 27 Jul 2023 11:11:41 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 55\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"37-EwJEhBGIU3KiOH3ypr8c6yRFaMQ\"\n{\"error\":\"This book is not in stock. Try again later.\"}\n\n"},{"result":{"nanos":39270,"millis":0.03927,"status":"passed"},"step":{"line":47,"prefix":"*","index":7,"text":"status 404"}},{"result":{"nanos":3129509,"millis":3.129509,"status":"passed"},"step":{"line":48,"prefix":"*","index":8,"text":"match $ == '#notnull'"}},{"result":{"nanos":1000301,"millis":1.000301,"status":"passed"},"step":{"line":49,"prefix":"*","index":9,"text":"match $ contains {error: '#notnull'}"}},{"result":{"nanos":1520788,"millis":1.520788,"status":"passed"},"step":{"line":50,"prefix":"*","index":10,"text":"match $ !contains {orderId: '#notnull'}"}}],"executorName":"pool-1-thread-3","line":37,"name":"verify the unsuccessful creation of order when the book is out of stock","description":"","durationMillis":3997.803801,"startTime":1690456297116,"failed":false,"refId":"[3:37]","endTime":1690456301259,"exampleIndex":-1}],"callDepth":0,"name":"Book ordering process","description":"","resultDate":"2023-07-27 12:11:41 PM","durationMillis":11435.53884,"passedCount":3}