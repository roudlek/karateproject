{"failedCount":0,"prefixedPath":"classpath:officialpackage\/SimpleBooksAPI\/BookOrderingProcess.feature","packageQualifiedName":"officialpackage.SimpleBooksAPI.BookOrderingProcess","loopIndex":-1,"relativePath":"officialpackage\/SimpleBooksAPI\/BookOrderingProcess.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1141622,"millis":1.141622,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"url 'https:\/\/simple-books-api.glitch.me'"},"stepLog":"17:58:14.477 karate.env system property was: null \n"},{"result":{"nanos":1349563641,"millis":1349.563641,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":1,"text":"def tokenCreationFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')"},"stepLog":"17:58:15.839 this thread waited 1328 milliseconds for callonce lock: read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')\n"},{"result":{"nanos":483262693,"millis":483.262693,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":2,"text":"def availableBooksFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')"},"stepLog":"17:58:16.323 this thread waited 478 milliseconds for callonce lock: read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')\n"},{"result":{"nanos":366968506,"millis":366.968506,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":3,"text":"def unavailableBooksFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')"},"stepLog":"17:58:16.689 this thread waited 363 milliseconds for callonce lock: read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')\n"},{"result":{"nanos":856486,"millis":0.856486,"status":"passed"},"step":{"line":12,"prefix":"Given","index":0,"text":"path '\/books'"}},{"result":{"nanos":346858209,"millis":346.858209,"status":"passed"},"step":{"line":13,"prefix":"When","index":1,"text":"method GET"},"stepLog":"17:58:16.694 request:\n1 > GET https:\/\/simple-books-api.glitch.me\/books\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n\n\n17:58:17.037 response time in milliseconds: 342\n1 < 200\n1 < Date: Wed, 16 Aug 2023 16:58:16 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 417\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"1a1-MfqhfTYtZO2sguD1mJq8Vf41WjU\"\n[{\"id\":1,\"name\":\"The Russian\",\"type\":\"fiction\",\"available\":true},{\"id\":2,\"name\":\"Just as I Am\",\"type\":\"non-fiction\",\"available\":false},{\"id\":3,\"name\":\"The Vanishing Half\",\"type\":\"fiction\",\"available\":true},{\"id\":4,\"name\":\"The Midnight Library\",\"type\":\"fiction\",\"available\":true},{\"id\":5,\"name\":\"Untamed\",\"type\":\"non-fiction\",\"available\":true},{\"id\":6,\"name\":\"Viscount Who Loved Me\",\"type\":\"fiction\",\"available\":true}]\n\n"},{"result":{"nanos":12655,"millis":0.012655,"status":"passed"},"step":{"line":14,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":1579346,"millis":1.579346,"status":"passed"},"step":{"comments":["#      * print karate.response"],"line":16,"prefix":"*","index":3,"text":"match karate.response.header('content-type') == 'application\/json; charset=utf-8'"}},{"result":{"nanos":7095974,"millis":7.095974,"status":"passed"},"step":{"comments":["#      * match each response contains {type: '#notnull'}"],"line":18,"prefix":"*","index":4,"text":"match each $ contains { type: \"#notnull\"}"}},{"result":{"nanos":310671,"millis":0.310671,"status":"passed"},"step":{"line":19,"prefix":"*","index":5,"text":"def validTypes = ['fiction', 'non-fiction']"}},{"result":{"nanos":18204317,"millis":18.204317,"status":"passed"},"step":{"line":20,"prefix":"*","index":6,"text":"match each response contains { type: '#? validTypes.includes(_)' }"}}],"executorName":"pool-1-thread-1","line":11,"name":"verify that 'type' filter works correctly on the list of books endpoint (check the case 'fiction' and 'non-fiction')","description":"","durationMillis":2575.85412,"startTime":1692205094332,"failed":false,"refId":"[1:11]","endTime":1692205097066,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":1148784,"millis":1.148784,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"url 'https:\/\/simple-books-api.glitch.me'"},"stepLog":"17:58:14.452 karate.env system property was: null \n"},{"result":{"nanos":1349415185,"millis":1349.415185,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":1,"text":"def tokenCreationFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')"},"stepLog":"17:58:15.839 this thread waited 1328 milliseconds for callonce lock: read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')\n"},{"result":{"nanos":483711701,"millis":483.711701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":2,"text":"def availableBooksFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')"},"stepLog":"17:58:16.323 this thread waited 479 milliseconds for callonce lock: read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')\n"},{"result":{"nanos":365689202,"millis":365.689202,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":3,"text":"def unavailableBooksFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')"},"stepLog":"17:58:16.688 this thread waited 361 milliseconds for callonce lock: read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')\n"},{"result":{"nanos":1091260,"millis":1.09126,"status":"passed"},"step":{"line":23,"prefix":"Given","index":0,"text":"path '\/orders'"}},{"result":{"nanos":2325764,"millis":2.325764,"status":"passed"},"step":{"comments":["# Call the scenario that generates the access token and store the response in a variable"],"line":25,"prefix":"*","index":1,"text":"def generatedAccessToken = tokenCreationFeature.response.accessToken"}},{"result":{"nanos":1708578,"millis":1.708578,"status":"passed"},"step":{"comments":["# Extract the access token from the response and store it in a variable"],"line":27,"prefix":"*","index":2,"text":"header Authorization = 'Bearer ' + generatedAccessToken"}},{"result":{"nanos":1646859,"millis":1.646859,"status":"passed"},"step":{"line":28,"prefix":"*","index":3,"text":"def customerName = tokenCreationFeature.APIClientData.clientName"}},{"result":{"nanos":2193323,"millis":2.193323,"status":"passed"},"step":{"line":29,"prefix":"*","index":4,"text":"def firstAvailableBookID = availableBooksFeature.bookToOrder.id"}},{"result":{"nanos":1987308,"millis":1.987308,"status":"passed"},"step":{"line":30,"prefix":"*","index":5,"text":"print firstAvailableBookID"},"stepLog":"17:58:16.701 [print] 1 \n"},{"result":{"nanos":1635642,"millis":1.635642,"status":"passed"},"step":{"line":31,"prefix":"*","index":6,"text":"request { \"bookId\": '#(firstAvailableBookID)', \"customerName\": '#(customerName)' }"}},{"result":{"nanos":491448105,"millis":491.448105,"status":"passed"},"step":{"line":32,"prefix":"When","index":7,"text":"method POST"},"stepLog":"17:58:16.705 request:\n1 > POST https:\/\/simple-books-api.glitch.me\/orders\n1 > Authorization: Bearer df65349d193ef12a8ef83d63571d2477107dd75a329fcebc8c010aca3f00aa24\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 37\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"bookId\":1,\"customerName\":\"elxuldc\"}\n\n17:58:17.191 response time in milliseconds: 483\n1 < 201\n1 < Date: Wed, 16 Aug 2023 16:58:17 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 50\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"32-D8Ruq68GoqAEYu+nVsa6F8BNT1o\"\n{\"created\":true,\"orderId\":\"5qNJP-WNwjzR1vFlDRjw2\"}\n\n"},{"result":{"nanos":33137,"millis":0.033137,"status":"passed"},"step":{"line":33,"prefix":"*","index":8,"text":"status 201"}},{"result":{"nanos":5217556,"millis":5.217556,"status":"passed"},"step":{"line":34,"prefix":"*","index":9,"text":"match $ == '#notnull'"}},{"result":{"nanos":1637675,"millis":1.637675,"status":"passed"},"step":{"line":35,"prefix":"*","index":10,"text":"match $ contains {orderId: '#notnull'}"}},{"result":{"nanos":1069948,"millis":1.069948,"status":"passed"},"step":{"line":36,"prefix":"*","index":11,"text":"match $ contains {orderId: '#string'}"}}],"executorName":"pool-1-thread-2","line":22,"name":"verify the successful creation of an order with an available book (book in stock)","description":"","durationMillis":2711.960027,"startTime":1692205094332,"failed":false,"refId":"[2:22]","endTime":1692205097204,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":1140111,"millis":1.140111,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"url 'https:\/\/simple-books-api.glitch.me'"},"stepLog":"17:58:14.482 karate.env system property was: null \n"},{"result":{"nanos":1349373544,"millis":1349.373544,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":1,"text":"def tokenCreationFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')"},"stepLog":"17:58:15.839 << lock released, cached callonce: read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature","packageQualifiedName":"officialpackage.SimpleBooksAPI.tokenCreationFeature","loopIndex":-1,"relativePath":"officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":47622172,"millis":47.622172,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def APIClientData = read('classpath:officialpackage\/SimpleBooksAPI\/APIClientData.json')"},"stepLog":"17:58:14.511 >> lock acquired, begin callonce: read('classpath:officialpackage\/SimpleBooksAPI\/tokenCreationFeature.feature')\n"},{"result":{"nanos":517102,"millis":0.517102,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"url 'https:\/\/simple-books-api.glitch.me'"}},{"result":{"nanos":23204145,"millis":23.204145,"status":"passed"},"step":{"endLine":35,"comments":["# JavaScript function to generate a random email address"],"line":11,"prefix":"*","docString":"function generateFullEmail(){\n    function generateTLD() {\n      let result = '';\n      for (let i = 0; i < 63; i++) {\n        const randomIndex = Math.floor(Math.random() * characters.length);\n        result += characters.charAt(randomIndex);\n      }\n      return result;\n    }\n    const characters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n    const tld = generateTLD().slice(0, Math.floor(Math.random() * 62) + 2);\n    function generateRandomClientEmail() {\n      const generateTLD = () => Math.random().toString(36).substring(2);\n      const username = generateTLD().slice(0, Math.floor(Math.random() * 64) + 1);\n      const domain = generateTLD().slice(0, Math.floor(Math.random() * 253) + 2);\n      return `${username}@${domain}.${tld}`;\n    }\n  return generateRandomClientEmail();\n }","index":0,"text":"def generateRandomClientEmail ="}},{"result":{"nanos":2450772,"millis":2.450772,"status":"passed"},"step":{"endLine":50,"line":36,"prefix":"*","docString":"function generateRandomClientName() {\n  const length = Math.floor(Math.random() * 18) + 3;\n  const characters = 'abcdefghijklmnopqrstuvwxyz';\n  let name = '';\n  for (let i = 0; i < length; i++) {\n    const randomIndex = Math.floor(Math.random() * characters.length);\n    name += characters[randomIndex];\n  }\n  return name;\n}","index":1,"text":"def generateRandomClientName ="}},{"result":{"nanos":423015,"millis":0.423015,"status":"passed"},"step":{"line":51,"prefix":"Given","index":2,"text":"path '\/api-clients\/'"}},{"result":{"nanos":23238177,"millis":23.238177,"status":"passed"},"step":{"comments":["# We set the generated prefix of our json file of clientEmail to the returned value of the js function"],"line":53,"prefix":"*","index":3,"text":"set APIClientData.clientEmail = generateRandomClientEmail()"}},{"result":{"nanos":2139391,"millis":2.139391,"status":"passed"},"step":{"line":54,"prefix":"*","index":4,"text":"set APIClientData.clientName = generateRandomClientName()"}},{"result":{"nanos":8148842,"millis":8.148842,"status":"passed"},"step":{"line":55,"prefix":"*","index":5,"text":"match APIClientData contains { clientName: '#notnull' }"}},{"result":{"nanos":901420,"millis":0.90142,"status":"passed"},"step":{"line":56,"prefix":"*","index":6,"text":"match APIClientData contains { clientEmail: '#regex ^[a-zA-Z0-9._%+-]{1,64}@[a-zA-Z0-9.-]{1,255}\\.[a-zA-Z]{2,63}$'} # Validate email format"}},{"result":{"nanos":173350,"millis":0.17335,"status":"passed"},"step":{"line":57,"prefix":"*","index":7,"text":"request APIClientData"}},{"result":{"nanos":1199655669,"millis":1199.655669,"status":"passed"},"step":{"line":58,"prefix":"When","index":8,"text":"method POST"},"stepLog":"17:58:14.850 request:\n1 > POST https:\/\/simple-books-api.glitch.me\/api-clients\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 98\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"clientName\":\"elxuldc\",\"clientEmail\":\"72gr4rpa1wh@8wd9qdvhouc.TWDZInuqiqBMafseMUWDjfjgfQeyIePol\"}\n\n17:58:15.824 response time in milliseconds: 965\n1 < 201\n1 < Date: Wed, 16 Aug 2023 16:58:15 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 82\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"52-AAgGRRPfSkb4ffBUgwrwJI+2Ez4\"\n{\"accessToken\":\"df65349d193ef12a8ef83d63571d2477107dd75a329fcebc8c010aca3f00aa24\"}\n\n"},{"result":{"nanos":49409,"millis":0.049409,"status":"passed"},"step":{"line":59,"prefix":"Then","index":9,"text":"status 201"}},{"result":{"nanos":1907382,"millis":1.907382,"status":"passed"},"step":{"line":60,"prefix":"*","index":10,"text":"match $ == '#notnull'"}},{"result":{"nanos":1148347,"millis":1.148347,"status":"passed"},"step":{"line":61,"prefix":"*","index":11,"text":"match $.accessToken == '#notnull'"}},{"result":{"nanos":1096687,"millis":1.096687,"status":"passed"},"step":{"line":62,"prefix":"*","index":12,"text":"match $.accessToken == '#string'"}},{"result":{"nanos":689654,"millis":0.689654,"status":"passed"},"step":{"comments":["# Validate access token format (64 characters hexadecimal)"],"line":65,"prefix":"*","index":13,"text":"match $ == { accessToken: '#regex ^[0-9a-f]{64}$'}"}},{"result":{"nanos":603374,"millis":0.603374,"status":"passed"},"step":{"line":66,"prefix":"*","index":14,"text":"def generatedAccessToken = $.accessToken"}}],"line":9,"description":"","durationMillis":1313.968908,"failed":false,"tags":["createToken"],"executorName":"pool-1-thread-3","name":"verify the creation of token after an authentication","startTime":1692205094521,"refId":"[1:9]","endTime":1692205095837,"exampleIndex":-1}],"callDepth":1,"name":"Token creation feature","description":"","resultDate":"2023-08-16 05:58:17 PM","durationMillis":1313.968908,"passedCount":1}]},{"result":{"nanos":482886531,"millis":482.886531,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":2,"text":"def availableBooksFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')"},"stepLog":"17:58:16.322 << lock released, cached callonce: read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature","packageQualifiedName":"officialpackage.SimpleBooksAPI.avaiableBooks","loopIndex":-1,"relativePath":"officialpackage\/SimpleBooksAPI\/avaiableBooks.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":476952,"millis":0.476952,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"url 'https:\/\/simple-books-api.glitch.me'"},"stepLog":"17:58:15.844 >> lock acquired, begin callonce: read('classpath:officialpackage\/SimpleBooksAPI\/avaiableBooks.feature')\n"},{"result":{"nanos":291626,"millis":0.291626,"status":"passed"},"step":{"line":5,"prefix":"Given","index":0,"text":"path '\/books'"}},{"result":{"nanos":442000579,"millis":442.000579,"status":"passed"},"step":{"line":6,"prefix":"When","index":1,"text":"method GET"},"stepLog":"17:58:15.852 request:\n1 > GET https:\/\/simple-books-api.glitch.me\/books\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n\n\n17:58:16.286 response time in milliseconds: 431\n1 < 200\n1 < Date: Wed, 16 Aug 2023 16:58:16 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 417\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"1a1-MfqhfTYtZO2sguD1mJq8Vf41WjU\"\n[{\"id\":1,\"name\":\"The Russian\",\"type\":\"fiction\",\"available\":true},{\"id\":2,\"name\":\"Just as I Am\",\"type\":\"non-fiction\",\"available\":false},{\"id\":3,\"name\":\"The Vanishing Half\",\"type\":\"fiction\",\"available\":true},{\"id\":4,\"name\":\"The Midnight Library\",\"type\":\"fiction\",\"available\":true},{\"id\":5,\"name\":\"Untamed\",\"type\":\"non-fiction\",\"available\":true},{\"id\":6,\"name\":\"Viscount Who Loved Me\",\"type\":\"fiction\",\"available\":true}]\n\n"},{"result":{"nanos":32016,"millis":0.032016,"status":"passed"},"step":{"line":7,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":13583738,"millis":13.583738,"status":"passed"},"step":{"line":8,"prefix":"*","index":3,"text":"match karate.response.header('content-type') == 'application\/json; charset=utf-8'"}},{"result":{"nanos":9283455,"millis":9.283455,"status":"passed"},"step":{"line":9,"prefix":"*","index":4,"text":"def availableBooks = karate.filter(response, function(x){ return x.available == true })"}},{"result":{"nanos":3123252,"millis":3.123252,"status":"passed"},"step":{"line":10,"prefix":"*","index":5,"text":"match availableBooks != null"}},{"result":{"nanos":1746179,"millis":1.746179,"status":"passed"},"step":{"line":11,"prefix":"*","index":6,"text":"def bookToOrder = availableBooks[0]"}},{"result":{"nanos":591558,"millis":0.591558,"status":"passed"},"step":{"line":12,"prefix":"*","index":7,"text":"match $ == '#notnull'"}}],"executorName":"pool-1-thread-3","line":4,"name":"get only available books","description":"","durationMillis":471.129355,"startTime":1692205095850,"failed":false,"refId":"[1:4]","endTime":1692205096322,"exampleIndex":-1}],"callDepth":1,"name":"","description":"","resultDate":"2023-08-16 05:58:17 PM","durationMillis":471.129355,"passedCount":1}]},{"result":{"nanos":365075186,"millis":365.075186,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":3,"text":"def unavailableBooksFeature = callonce read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')"},"stepLog":"17:58:16.687 << lock released, cached callonce: read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature","packageQualifiedName":"officialpackage.SimpleBooksAPI.unavaiableBooks","loopIndex":-1,"relativePath":"officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":183753,"millis":0.183753,"status":"passed"},"step":{"background":true,"line":3,"prefix":"*","index":0,"text":"url 'https:\/\/simple-books-api.glitch.me'"},"stepLog":"17:58:16.325 >> lock acquired, begin callonce: read('classpath:officialpackage\/SimpleBooksAPI\/unavaiableBooks.feature')\n"},{"result":{"nanos":91066,"millis":0.091066,"status":"passed"},"step":{"line":5,"prefix":"Given","index":0,"text":"path '\/books'"}},{"result":{"nanos":341353063,"millis":341.353063,"status":"passed"},"step":{"line":6,"prefix":"When","index":1,"text":"method GET"},"stepLog":"17:58:16.333 request:\n1 > GET https:\/\/simple-books-api.glitch.me\/books\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n\n\n17:58:16.669 response time in milliseconds: 334\n1 < 200\n1 < Date: Wed, 16 Aug 2023 16:58:16 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 417\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"1a1-MfqhfTYtZO2sguD1mJq8Vf41WjU\"\n[{\"id\":1,\"name\":\"The Russian\",\"type\":\"fiction\",\"available\":true},{\"id\":2,\"name\":\"Just as I Am\",\"type\":\"non-fiction\",\"available\":false},{\"id\":3,\"name\":\"The Vanishing Half\",\"type\":\"fiction\",\"available\":true},{\"id\":4,\"name\":\"The Midnight Library\",\"type\":\"fiction\",\"available\":true},{\"id\":5,\"name\":\"Untamed\",\"type\":\"non-fiction\",\"available\":true},{\"id\":6,\"name\":\"Viscount Who Loved Me\",\"type\":\"fiction\",\"available\":true}]\n\n"},{"result":{"nanos":32127,"millis":0.032127,"status":"passed"},"step":{"line":7,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":2592957,"millis":2.592957,"status":"passed"},"step":{"line":8,"prefix":"*","index":3,"text":"match karate.response.header('content-type') == 'application\/json; charset=utf-8'"}},{"result":{"nanos":5693617,"millis":5.693617,"status":"passed"},"step":{"line":9,"prefix":"*","index":4,"text":"def availableBooks = karate.filter(response, function(x){ return x.available == false })"}},{"result":{"nanos":1219894,"millis":1.219894,"status":"passed"},"step":{"line":10,"prefix":"*","index":5,"text":"match availableBooks != null"}},{"result":{"nanos":1096987,"millis":1.096987,"status":"passed"},"step":{"line":11,"prefix":"*","index":6,"text":"def bookToOrder = availableBooks[0]"}},{"result":{"nanos":1002179,"millis":1.002179,"status":"passed"},"step":{"line":12,"prefix":"*","index":7,"text":"match $ == '#notnull'"}}],"executorName":"pool-1-thread-3","line":4,"name":"get only available books","description":"","durationMillis":353.265643,"startTime":1692205096332,"failed":false,"refId":"[1:4]","endTime":1692205096686,"exampleIndex":-1}],"callDepth":1,"name":"","description":"","resultDate":"2023-08-16 05:58:17 PM","durationMillis":353.265643,"passedCount":1}]},{"result":{"nanos":1203181,"millis":1.203181,"status":"passed"},"step":{"line":39,"prefix":"Given","index":0,"text":"path '\/orders'"}},{"result":{"nanos":1832390,"millis":1.83239,"status":"passed"},"step":{"comments":["# Call the scenario that generates the access token and store the response in a variable"],"line":41,"prefix":"*","index":1,"text":"def generatedAccessToken = tokenCreationFeature.response.accessToken"}},{"result":{"nanos":1275652,"millis":1.275652,"status":"passed"},"step":{"comments":["# Extract the access token from the response and store it in a variable"],"line":43,"prefix":"*","index":2,"text":"header Authorization = 'Bearer ' + generatedAccessToken"}},{"result":{"nanos":2366240,"millis":2.36624,"status":"passed"},"step":{"line":44,"prefix":"*","index":3,"text":"def customerName = tokenCreationFeature.APIClientData.clientName"}},{"result":{"nanos":2052211,"millis":2.052211,"status":"passed"},"step":{"line":45,"prefix":"*","index":4,"text":"def firstUnavailableBookID = unavailableBooksFeature.bookToOrder.id"}},{"result":{"nanos":1986118,"millis":1.986118,"status":"passed"},"step":{"line":46,"prefix":"*","index":5,"text":"request { \"bookId\": '#(firstUnavailableBookID)', \"customerName\": '#(customerName)' }"}},{"result":{"nanos":691803269,"millis":691.803269,"status":"passed"},"step":{"line":47,"prefix":"When","index":6,"text":"method POST"},"stepLog":"17:58:16.701 request:\n1 > POST https:\/\/simple-books-api.glitch.me\/orders\n1 > Authorization: Bearer df65349d193ef12a8ef83d63571d2477107dd75a329fcebc8c010aca3f00aa24\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 37\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.6)\n1 > Accept-Encoding: gzip,deflate\n{\"bookId\":2,\"customerName\":\"elxuldc\"}\n\n17:58:17.389 response time in milliseconds: 686\n1 < 404\n1 < Date: Wed, 16 Aug 2023 16:58:17 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 55\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"37-EwJEhBGIU3KiOH3ypr8c6yRFaMQ\"\n{\"error\":\"This book is not in stock. Try again later.\"}\n\n"},{"result":{"nanos":30421,"millis":0.030421,"status":"passed"},"step":{"line":48,"prefix":"*","index":7,"text":"status 404"}},{"result":{"nanos":915376,"millis":0.915376,"status":"passed"},"step":{"line":49,"prefix":"*","index":8,"text":"match $ == '#notnull'"}},{"result":{"nanos":824761,"millis":0.824761,"status":"passed"},"step":{"line":50,"prefix":"*","index":9,"text":"match $ contains {error: '#notnull'}"}},{"result":{"nanos":1442137,"millis":1.442137,"status":"passed"},"step":{"line":51,"prefix":"*","index":10,"text":"match $ !contains {orderId: '#notnull'}"}}],"executorName":"pool-1-thread-3","line":38,"name":"verify the unsuccessful creation of order when the book is out of stock","description":"","durationMillis":2904.207128,"startTime":1692205094332,"failed":false,"refId":"[3:38]","endTime":1692205097396,"exampleIndex":-1}],"callDepth":0,"name":"Book ordering process","description":"","resultDate":"2023-08-16 05:58:17 PM","durationMillis":8192.021275,"passedCount":3}